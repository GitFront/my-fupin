$.namespace("common.utils"),common.utils.datagrid={gridId:"dataGrid",searchDiv:"searchDiv",wpcfgId:"",init:function(t,a,r){null!=t&&void 0!=t&&(this.gridId=t),null!=a&&void 0!=a&&(this.searchDiv=a),this.wpcfgId=r,$("#queryBtn").click(this.queryOk),$("#exportBtn").click(this.dataExport),common.utils.datagrid.$grid=$("#"+this.gridId),common.utils.datagrid.$grid.datagrid({onBeforeLoad:function(t){var a=JSON.stringify(common.utils.datagrid.getQueryParams(common.utils.datagrid.searchDiv));t.parameter=a}})},queryOk:function(){common.utils.datagrid.$grid.datagrid("reload")},reset:function(){},getQueryParams:function(t){var a=new Array;return $("#"+t).find(":input").each(function(){var t=$(this).attr("name"),r=$(this).attr("dataType"),i=$(this).val();if(null!=i&&(i=Common.delHtml(i)),null!=t&&void 0!=t){var d={};d.name=t,d.dataType=r,d.value=i,a.push(d)}}),a},dataExport:function(){var t=JSON.stringify(common.utils.datagrid.getQueryParams(common.utils.datagrid.searchDiv)),a={};a.parameter=t,a.wpcfgId=common.utils.datagrid.wpcfgId;var r=$("<form>");r.attr("style","display:none"),r.attr("target",""),r.attr("method","post"),r.attr("action",basePath+"/ExportDataAction_export.do");var i=$("<input>");i.attr("type","hidden"),i.attr("name","parameter"),i.attr("value",a.parameter);var d=$("<input>");d.attr("type","hidden"),d.attr("name","wpcfgId"),d.attr("value",a.wpcfgId),$("body").append(r),r.append(i),r.append(d),r.submit(),r.remove()}};