!function(i,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module?module.exports=n():i.format=n()}(this,function(){return function(i,n){"use strict";if(!i||isNaN(+n))return n;var e,o,a,t,s,c,l,d,r,u,g=i.length,v=i.search(/[0-9\-\+#]/),p=v>0?i.substring(0,v):"",f=i.split("").reverse().join(""),m=f.search(/[0-9\-\+#]/),h=g-m,A=i.substring(h,h+1),C=h+("."===A||","===A?1:0),E=m>0?i.substring(C,g):"";if(i=i.substring(v,C),n="-"===i.charAt(0)?-n:+n,e=n<0?n=-n:0,o=i.match(/[^\d\-\+#]/g),a=o&&o[o.length-1]||".",t=o&&o[1]&&o[0]||",",i=i.split(a),n=n.toFixed(i[1]&&i[1].length),n=+n+"",c=i[1]&&i[1].lastIndexOf("0"),(!(d=n.split("."))[1]||d[1]&&d[1].length<=c)&&(n=(+n).toFixed(c+1)),r=i[0].split(t),i[0]=r.join(""),(s=i[0]&&i[0].indexOf("0"))>-1)for(;d[0].length<i[0].length-s;)d[0]="0"+d[0];else 0==+d[0]&&(d[0]="");if(n=n.split("."),n[0]=d[0],l=r[1]&&r[r.length-1].length){for(f="",h=(u=n[0]).length%l,g=u.length,C=0;C<g;C++)f+=u.charAt(C),!((C-h+1)%l)&&C<g-l&&(f+=t);n[0]=f}return n[1]=i[1]&&n[1]?a+n[1]:"","0"!==(o=n.join(""))&&""!==o||(e=!1),p+(e?"-":"")+o+E}}),function(i){var n="click",e="fade",o="none",a=i.extend,t=i.trim,s={};i.modal=function(c){function l(i,n){if(!h)switch(r(),i&&m.html("").append(i),f.css({opacity:0}).show(),n&&n(),A){case o:f.css({opacity:1}),u();break;case e:default:f.data("animate-speed",C),f.animate?f.animate({opacity:1},C,u):u()}return p}function d(){if(E&&E(),!h)switch(r(),A){case o:f.hide(),u(),g();break;case e:default:f.animate({opacity:0},C,function(){f.hide(),u(),g()})}return p}function r(){h=!0}function u(){h=!1}function g(){p.$modal.remove(),s[v]=p=null}var v=(c=a({id:"modal",modalAnim:o,modalAnimSpeed:300,classContent:"modal-content",classModalBg:"modal-bg",classClose:"modal-close"},c)).id,p=s[v];p&&g();var f,m,h=!1,A=c.modalAnim,C=c.modalAnimSpeed,E=c.onModalClose;return p={show:l,hide:d,destroy:g},function(){var e=c.closeOnBg,o=c.classModalBg,a=c.classClose,s=c.classContent,r=c.tmpl,u=i("body");p.$modal=f=i('<div id="'+v+'" class="'+o+'"></div>'),m=i('<div class="'+s+'"></div>'),r&&m.append(r),u.append(f.append(m)),m.on(n,"."+t(a).split(" ").join("."),function(){d()}),l(),e&&f.on(n,function(i){i.target==i.currentTarget&&d()})}(),s[v]=p,p}}($),function(i){function n(i){return i.outerHeight?i.outerHeight():i.height()}function e(i){return i.outerWidth?i.outerWidth():i.width()}var o="click",a="center",t=i.extend,s=i.isArray;i.dialog=function(c){c=t({id:"modal-dialog",classClose:"dialog-close",classDialog:"dialog",classDialogTitle:"dialog-title",classDialogContent:"dialog-content",classDialogBtns:"dialog-btns",title:"提示"},c);var l,d=function(){var n=c.classDialog,e=c.classClose,a=c.classDialogTitle,t=c.classDialogContent,r=c.classDialogBtns,u=c.title,g=c.content,v=c.btns,p=i('<div class="'+e+'"></div>'),f=i('<div class="'+t+'"></div>');if(d=i('<div class="'+n+'"></div>'),null!==u){var m=i('<div class="'+a+'">'+u+"</div>");d.append(m.append(p))}else d.append(p);if(d.append(f.append(g)),s(v)){var h,A,C,E=i('<div data-count="'+v.length+'" class="'+r+'"></div>');for(h=0;A=v[h];h++)C=i('<div class="'+A.clazz+'"><span class="'+(A.clazzTxt?A.clazzTxt:"")+'">'+A.text+"</span></div>"),E.append(C),function(i){C.on(o,function(){i?i(l,d):l.hide()})}(A.click);d.append(E)}return d}(),r=c.dialogMode;return l=i.modal(c).show(d,function(){if(r==a){var i=n(d),o=e(d);d.css({marginTop:-i/2+"px",marginLeft:-o/2+"px"})}}),l.$dialog=d,l}}($);var LEVELS={PROVINCE:"province",CITY:"city",COUNTY:"county",TOWN:"town",COUNTRY:"country"},AREA_SCOPE={QUANBU:"1",XIANGDUIPINKUNCUN:"2",FUNSANCUN:"3",GEMINGLAOQU:"4",ZHONGYANGSUQU:"5"},DEFAULT_LEVEL=LEVELS.PROVINCE,DEFAULT_AREA_ID=44e10,DEFAULT_AREA_NAME="广东省",DEFAULT_AREA_SCOPE=AREA_SCOPE.QUANBU,commonJSPConfig={hideFocus:!0},commonTipsoConfig={speed:200,width:130,delay:100,color:"#34344f",background:"rgba(255, 255, 255, .7)"};template&&(template.config("openTag","<#"),template.config("closeTag","#>")),$(function(){function i(i,e){n({content:t,btnPosCB:function(n){i&&i.apply(this,e),n.hide()}})}function n(i){var n=i.btnPosCB,o=i.btnPosText;e(l({btns:[{text:o||"我知道了",clazz:"btn",click:function(i){n?n(i):i.hide()}}]},i))}function e(i){o=$.dialog(l({id:"dialogCommon",classDialog:"common-dialog",classModalBg:"common-dialog-mask",dialogMode:s,title:"提示",btns:null},i)).show()}var o,a,t="数据出错，可能发生了错误或者数据未完成录入，请稍后再试",s="center",c=window,l=$.extend,d=$("body"),r={};l(r,{ajax:function(e){var o=(e=l({dataType:"json",timeout:6e4},e)).success,a=e.error,t=e.suppressNetErr,s=e.dataType;e.success=function(i){if("json"==s){var e=i.code,a=i.msg;0!=e&&a&&n({content:a}),o&&o(i)}else o&&o(i)},e.error=function(){var n=arguments;t?a&&a.apply(this,n):i(a,n)},$.ajax(e)},showCommonDialog:e,hideCommonDialog:function(){o&&o.hide(),o=null},showAlertDialog:n,showCommonErrorDialog:i,getSearchObject:function(){var i=location.search.substring(1);return i?JSON.parse('{"'+i.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(i,n){return""===i?n:decodeURIComponent(n)}):{}}}),l(c,{showLoadingMask:function(){a||(a=$(['<div class="loading-mask">','<div class="spinner">','<div class="spinner-container container1">','<div class="circle1"></div>','<div class="circle2"></div>','<div class="circle3"></div>','<div class="circle4"></div>',"</div>",'<div class="spinner-container container2">','<div class="circle1"></div>','<div class="circle2"></div>','<div class="circle3"></div>','<div class="circle4"></div>',"</div>",'<div class="spinner-container container3">','<div class="circle1"></div>','<div class="circle2"></div>','<div class="circle3"></div>','<div class="circle4"></div>',"</div>","</div>","</div>"].join("")),d.append(a)),a.show()},hideLoadingMask:function(){a&&a.hide()},Helpers:r})});