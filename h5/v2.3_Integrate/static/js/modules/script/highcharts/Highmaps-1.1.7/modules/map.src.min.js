!function(t){function i(t,i){var o,a,e=!1,n=t.x,s=t.y;for(o=0,a=i.length-1;o<i.length;a=o++)i[o][1]>s!==i[a][1]>s&&n<(i[a][0]-i[o][0])*(s-i[o][1])/(i[a][1]-i[o][1])+i[o][0]&&(e=!e);return e}function o(t,i,o,a,e,n,s,r){return["M",t+e,i,"L",t+o-n,i,"C",t+o-n/2,i,t+o,i+n/2,t+o,i+n,"L",t+o,i+a-s,"C",t+o,i+a-s/2,t+o-s/2,i+a,t+o-s,i+a,"L",t+r,i+a,"C",t+r/2,i+a,t,i+a-r/2,t,i+a-r,"L",t,i+e,"C",t,i+e/2,t+e/2,i,t+e,i,"Z"]}var a=t.Axis,e=t.Chart,n=t.Color,s=t.Point,r=t.Pointer,l=t.Legend,h=t.LegendSymbolMixin,p=t.Renderer,c=t.Series,d=t.SVGRenderer,m=t.VMLRenderer,u=t.addEvent,f=t.each,g=t.error,x=t.extend,y=t.extendClass,v=t.merge,b=t.pick,A=t.getOptions(),M=t.seriesTypes,w=A.plotOptions,C=t.wrap,L=function(){};C(a.prototype,"getSeriesExtremes",function(t){var i,o,a,e=this.isXAxis,n=[];e&&f(this.series,function(t,i){t.useMapGeometry&&(n[i]=t.xData,t.xData=[])}),t.call(this),e&&(i=b(this.dataMin,Number.MAX_VALUE),o=b(this.dataMax,-Number.MAX_VALUE),f(this.series,function(t,e){t.useMapGeometry&&(i=Math.min(i,b(t.minX,i)),o=Math.max(o,b(t.maxX,i)),t.xData=n[e],a=!0)}),a&&(this.dataMin=i,this.dataMax=o))}),C(a.prototype,"setAxisTranslation",function(t){var i,o,a,e,n,s=this.chart,r=s.plotWidth/s.plotHeight,l=s.xAxis[0];t.call(this),"yAxis"===this.coll&&void 0!==l.transA&&f(this.series,function(t){t.preserveAspectRatio&&(n=!0)}),n&&(this.transA=l.transA=Math.min(this.transA,l.transA),i=((o=r/((l.max-l.min)/(this.max-this.min))<1?this:l).max-o.min)*o.transA,o.pixelPadding=o.len-i,o.minPixelPadding=o.pixelPadding/2,(a=o.fixTo)&&(e=a[1]-o.toValue(a[0],!0),e*=o.transA,(Math.abs(e)>o.minPixelPadding||o.min===o.dataMin&&o.max===o.dataMax)&&(e=0),o.minPixelPadding-=e))}),C(a.prototype,"render",function(t){t.call(this),this.fixTo=null});var P=t.ColorAxis=function(){this.isColorAxis=!0,this.init.apply(this,arguments)};x(P.prototype,a.prototype),x(P.prototype,{defaultColorAxisOptions:{lineWidth:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(t,i){var o,e="vertical"!==t.options.legend.layout;o=v(this.defaultColorAxisOptions,{side:e?2:1,reversed:!e},i,{isX:e,opposite:!e,showEmpty:!1,title:null,isColor:!0}),a.prototype.init.call(this,t,o),i.dataClasses&&this.initDataClasses(i),this.initStops(i),this.isXAxis=!0,this.horiz=e,this.zoomEnabled=!1},tweenColors:function(t,i,o){var a,e;return i.rgba.length&&t.rgba.length?(t=t.rgba,e=((a=1!==(i=i.rgba)[3]||1!==t[3])?"rgba(":"rgb(")+Math.round(i[0]+(t[0]-i[0])*(1-o))+","+Math.round(i[1]+(t[1]-i[1])*(1-o))+","+Math.round(i[2]+(t[2]-i[2])*(1-o))+(a?","+(i[3]+(t[3]-i[3])*(1-o)):"")+")"):e=i.raw||"none",e},initDataClasses:function(t){var i,o=this,a=this.chart,e=0,s=this.options,r=t.dataClasses.length;this.dataClasses=i=[],this.legendItems=[],f(t.dataClasses,function(t,l){var h;t=v(t),i.push(t),t.color||("category"===s.dataClassColor?(h=a.options.colors,t.color=h[e++],e===h.length&&(e=0)):t.color=o.tweenColors(n(s.minColor),n(s.maxColor),r<2?.5:l/(r-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]],f(this.stops,function(t){t.color=n(t[1])})},setOptions:function(t){a.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker,this.coll="colorAxis"},setAxisSize:function(){var t,i,o,a,e=this.legendSymbol,n=this.chart;e&&(this.left=t=e.attr("x"),this.top=i=e.attr("y"),this.width=o=e.attr("width"),this.height=a=e.attr("height"),this.right=n.chartWidth-t-o,this.bottom=n.chartHeight-i-a,this.len=this.horiz?o:a,this.pos=this.horiz?t:i)},toColor:function(t,i){var o,a,e,n,s,r,l=this.stops,h=this.dataClasses;if(h){for(r=h.length;r--;)if(s=h[r],a=s.from,e=s.to,(void 0===a||t>=a)&&(void 0===e||t<=e)){n=s.color,i&&(i.dataClass=r);break}}else{for(this.isLog&&(t=this.val2lin(t)),o=1-(this.max-t)/(this.max-this.min||1),r=l.length;r--&&!(o>l[r][0]););a=l[r]||l[r+1],o=1-((e=l[r+1]||a)[0]-o)/(e[0]-a[0]||1),n=this.tweenColors(a.color,e.color,o)}return n},getOffset:function(){var t=this.legendGroup,i=this.chart.axisOffset[this.side];t&&(a.prototype.getOffset.call(this),this.axisGroup.parentGroup||(this.axisGroup.add(t),this.gridGroup.add(t),this.labelGroup.add(t),this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=i)},setLegendColor:function(){var t,i=this.horiz,o=this.options,a=this.reversed;t=i?[+a,0,+!a,0]:[0,+!a,0,+a],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:o.stops||[[0,o.minColor],[1,o.maxColor]]}},drawLegendSymbol:function(t,i){var o=t.padding,a=t.options,e=this.horiz,n=b(a.symbolWidth,e?200:12),s=b(a.symbolHeight,e?12:200),r=b(a.labelPadding,e?16:30),l=b(a.itemDistance,10);this.setLegendColor(),i.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,n,s).attr({zIndex:1}).add(i.legendGroup),i.legendSymbol.getBBox(),this.legendItemWidth=n+o+(e?l:r),this.legendItemHeight=s+o+(e?r:0)},setState:L,visible:!0,setVisible:L,getSeriesExtremes:function(){var t;this.series.length&&(t=this.series[0],this.dataMin=t.valueMin,this.dataMax=t.valueMax)},drawCrosshair:function(t,i){var o,e=i&&i.plotX,n=i&&i.plotY,s=this.pos,r=this.len;i&&((o=this.toPixels(i[i.series.colorKey]))<s?o=s-2:o>s+r&&(o=s+r+2),i.plotX=o,i.plotY=this.len-o,a.prototype.drawCrosshair.call(this,t,i),i.plotX=e,i.plotY=n,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup))},getPlotLinePath:function(t,i,o,e,n){return"number"==typeof n?this.horiz?["M",n-4,this.top-6,"L",n+4,this.top-6,n,this.top,"Z"]:["M",this.left,n,"L",this.left-6,n+6,this.left-6,n-6,"Z"]:a.prototype.getPlotLinePath.call(this,t,i,o,e)},update:function(t,i){var o=this.chart,e=o.legend;f(this.series,function(t){t.isDirtyData=!0}),t.dataClasses&&(f(e.allItems,function(t){t.isDataClass&&t.legendGroup.destroy()}),o.isDirtyLegend=!0),o.options[this.coll]=v(this.userOptions,t),a.prototype.update.call(this,t,i),this.legendItem&&(this.setLegendColor(),e.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var i,o=this,a=this.chart,e=this.legendItems,n=a.options.legend,s=n.valueDecimals,r=n.valueSuffix||"";return e.length||f(this.dataClasses,function(n,l){var p=!0,c=n.from,d=n.to;i="",void 0===c?i="< ":void 0===d&&(i="> "),void 0!==c&&(i+=t.numberFormat(c,s)+r),void 0!==c&&void 0!==d&&(i+=" - "),void 0!==d&&(i+=t.numberFormat(d,s)+r),e.push(x({chart:a,name:i,options:{},drawLegendSymbol:h.drawRectangle,visible:!0,setState:L,isDataClass:!0,setVisible:function(){p=this.visible=!p,f(o.series,function(t){f(t.points,function(t){t.dataClass===l&&t.setVisible(p)})}),a.legend.colorizeItem(this,p)}},n))}),e},name:""}),f(["fill","stroke"],function(t){HighchartsAdapter.addAnimSetter(t,function(i){i.elem.attr(t,P.prototype.tweenColors(n(i.start),n(i.end),i.pos))})}),C(e.prototype,"getAxes",function(t){var i=this.options.colorAxis;t.call(this),this.colorAxis=[],i&&(t=new P(this,i))}),C(l.prototype,"getAllItems",function(t){var i=[],o=this.chart.colorAxis[0];return o&&(o.options.dataClasses?i=i.concat(o.getDataClassLegendSymbols()):i.push(o),f(o.series,function(t){t.options.showInLegend=!1})),i.concat(t.call(this))});var X={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:L,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var t=this,i=this.options.nullColor,o=this.colorAxis,a=this.colorKey;f(this.data,function(e){var n,s=e[a];(n=null===s?i:o&&void 0!==s?o.toColor(s,e):e.color||t.color)&&(e.color=n)})}};x(e.prototype,{renderMapNavigation:function(){var t,i,o,a,e,n=this,s=this.options.mapNavigation,r=s.buttons;if(b(s.enableButtons,s.enabled)&&!n.renderer.forExport)for(t in r)r.hasOwnProperty(t)&&((a=(o=v(s.buttonOptions,r[t])).theme).style=v(o.theme.style,o.style),e=a.states,(i=n.renderer.button(o.text,0,0,function(){this.handler.call(n)},a,e&&e.hover,e&&e.select,0,"zoomIn"===t?"topbutton":"bottombutton").attr({width:o.width,height:o.height,title:n.options.lang[t],zIndex:5}).add()).handler=o.onclick,i.align(x(o,{width:i.width,height:2*i.height}),null,o.alignTo))},fitToBox:function(t,i){return f([["x","width"],["y","height"]],function(o){var a=o[0],e=o[1];t[a]+t[e]>i[a]+i[e]&&(t[e]>i[e]?(t[e]=i[e],t[a]=i[a]):t[a]=i[a]+i[e]-t[e]),t[e]>i[e]&&(t[e]=i[e]),t[a]<i[a]&&(t[a]=i[a])}),t},mapZoom:function(t,i,o,a,e){var n=this,s=n.xAxis[0],r=s.max-s.min,l=b(i,s.min+r/2),h=r*t,p=n.yAxis[0],c=p.max-p.min,d=b(o,p.min+c/2),m=c*t,u=l-h*(a?(a-s.pos)/s.len:.5),f=d-m*(e?(e-p.pos)/p.len:.5),g=n.fitToBox({x:u,y:f,width:h,height:m},{x:s.dataMin,y:p.dataMin,width:s.dataMax-s.dataMin,height:p.dataMax-p.dataMin});a&&(s.fixTo=[a-s.pos,i]),e&&(p.fixTo=[e-p.pos,o]),void 0!==t?(s.setExtremes(g.x,g.x+g.width,!1),p.setExtremes(g.y,g.y+g.height,!1)):(s.setExtremes(void 0,void 0,!1),p.setExtremes(void 0,void 0,!1)),n.redraw()}}),C(e.prototype,"render",function(t){var i=this,o=i.options.mapNavigation;i.renderMapNavigation(),t.call(i),(b(o.enableDoubleClickZoom,o.enabled)||o.enableDoubleClickZoomTo)&&u(i.container,"dblclick",function(t){i.pointer.onContainerDblClick(t)}),b(o.enableMouseWheelZoom,o.enabled)&&u(i.container,void 0===document.onmousewheel?"DOMMouseScroll":"mousewheel",function(t){return i.pointer.onContainerMouseWheel(t),!1})}),x(r.prototype,{onContainerDblClick:function(t){var i=this.chart;t=this.normalize(t),i.options.mapNavigation.enableDoubleClickZoomTo?i.pointer.inClass(t.target,"highcharts-tracker")&&i.hoverPoint.zoomTo():i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&i.mapZoom(.5,i.xAxis[0].toValue(t.chartX),i.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)},onContainerMouseWheel:function(t){var i,o=this.chart;i=(t=this.normalize(t)).detail||-t.wheelDelta/120,o.isInsidePlot(t.chartX-o.plotLeft,t.chartY-o.plotTop)&&o.mapZoom(Math.pow(2,i),o.xAxis[0].toValue(t.chartX),o.yAxis[0].toValue(t.chartY),t.chartX,t.chartY)}}),C(r.prototype,"init",function(t,i,o){t.call(this,i,o),b(o.mapNavigation.enableTouchZoom,o.mapNavigation.enabled)&&(this.pinchX=this.pinchHor=this.pinchY=this.pinchVert=this.hasZoom=!0)}),C(r.prototype,"pinchTranslate",function(t,i,o,a,e,n,s){var r;t.call(this,i,o,a,e,n,s),"map"===this.chart.options.chart.type&&this.hasZoom&&(r=a.scaleX>a.scaleY,this.pinchTranslateDirection(!r,i,o,a,e,n,s,r?a.scaleX:a.scaleY))});var T=void 0!==document.documentElement.style.vectorEffect;w.map=v(w.scatter,{allAreas:!0,animation:!1,nullColor:"#F8F8F8",borderColor:"silver",borderWidth:1,marker:null,stickyTracking:!1,dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2,halo:null}}});var Y=y(s,{applyOptions:function(t,i){var o,a=s.prototype.applyOptions.call(this,t,i),e=this.series,n=e.joinBy;return e.mapData&&((o=void 0!==a[n[1]]&&e.mapMap[a[n[1]]])?(e.xyFromShape&&(a.x=o._midX,a.y=o._midY),x(a,o)):a.value=a.value||null),a},setVisible:function(t){var i=this,o=t?"show":"hide";f(["graphic","dataLabel"],function(t){i[t]&&i[t][o]()})},onMouseOver:function(t){clearTimeout(this.colorInterval),null!==this.value?s.prototype.onMouseOver.call(this,t):this.series.onMouseOut(t)},onMouseOut:function(){var t,i=this,o=+new Date,a=n(i.color),e=n(i.pointAttr.hover.fill),r=i.series.options.states.normal.animation,l=r&&(r.duration||500);l&&4===a.rgba.length&&4===e.rgba.length&&"select"!==i.state&&(t=i.pointAttr[""].fill,delete i.pointAttr[""].fill,clearTimeout(i.colorInterval),i.colorInterval=setInterval(function(){var t=(new Date-o)/l,n=i.graphic;t>1&&(t=1),n&&n.attr("fill",P.prototype.tweenColors.call(0,e,a,t)),t>=1&&clearTimeout(i.colorInterval)},13)),s.prototype.onMouseOut.call(i),t&&(i.pointAttr[""].fill=t)},zoomTo:function(){var t=this,i=t.series;i.xAxis.setExtremes(t._minX,t._maxX,!1),i.yAxis.setExtremes(t._minY,t._maxY,!1),i.chart.redraw()}});M.map=y(M.scatter,v(X,{type:"map",pointClass:Y,supportsDrilldown:!0,getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:L,preserveAspectRatio:!0,getBox:function(i){var o,a=Number.MAX_VALUE,e=-a,n=a,s=-a,r=a,l=a,h=this.xAxis,p=this.yAxis;f(i||[],function(i){if(i.path){"string"==typeof i.path&&(i.path=t.splitPath(i.path));var h=i.path||[],p=h.length,c=!1,d=-a,m=a,u=-a,f=a,g=i.properties;if(!i._foundBox){for(;p--;)"number"!=typeof h[p]||isNaN(h[p])||(c?(d=Math.max(d,h[p]),m=Math.min(m,h[p])):(u=Math.max(u,h[p]),f=Math.min(f,h[p])),c=!c);i._midX=m+(d-m)*(i.middleX||g&&g["hc-middle-x"]||.5),i._midY=f+(u-f)*(i.middleY||g&&g["hc-middle-y"]||.5),i._maxX=d,i._minX=m,i._maxY=u,i._minY=f,i.labelrank=b(i.labelrank,(d-m)*(u-f)),i._foundBox=!0}e=Math.max(e,i._maxX),n=Math.min(n,i._minX),s=Math.max(s,i._maxY),r=Math.min(r,i._minY),l=Math.min(i._maxX-i._minX,i._maxY-i._minY,l),o=!0}}),o&&(this.minY=Math.min(r,b(this.minY,a)),this.maxY=Math.max(s,b(this.maxY,-a)),this.minX=Math.min(n,b(this.minX,a)),this.maxX=Math.max(e,b(this.maxX,-a)),h&&void 0===h.options.minRange&&(h.minRange=Math.min(5*l,(this.maxX-this.minX)/5,h.minRange||a)),p&&void 0===p.options.minRange&&(p.minRange=Math.min(5*l,(this.maxY-this.minY)/5,p.minRange||a)))},getExtremes:function(){c.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(t){var i,o=this,a=!1,e=o.xAxis,n=o.yAxis,s=e.min,r=e.transA,l=e.minPixelPadding,h=n.min,p=n.transA,c=n.minPixelPadding,d=[];if(t)for(i=t.length;i--;)"number"==typeof t[i]?(d[i]=a?(t[i]-s)*r+l:(t[i]-h)*p+c,a=!a):d[i]=t[i];return d},setData:function(i,o){var a,e,n,s,r,l=this.options,h=l.mapData,p=l.joinBy,d=null===p,m=[];if(d&&(p="_i"),(p=this.joinBy=t.splat(p))[1]||(p[1]=p[0]),i&&f(i,function(t,o){"number"==typeof t&&(i[o]={value:t}),d&&(i[o]._i=o)}),this.getBox(i),h){if("FeatureCollection"===h.type){if(h["hc-transform"]){this.chart.mapTransforms=n=h["hc-transform"];for(e in n)n.hasOwnProperty(e)&&e.rotation&&(e.cosAngle=Math.cos(e.rotation),e.sinAngle=Math.sin(e.rotation))}h=t.geojson(h,this.type,this)}for(this.getBox(h),this.mapData=h,this.mapMap={},r=0;r<h.length;r++)s=(a=h[r]).properties,a._i=r,p[0]&&s&&s[p[0]]&&(a[p[0]]=s[p[0]]),this.mapMap[a[p[0]]]=a;l.allAreas&&(i=i||[],p[1]&&f(i,function(t){m.push(t[p[1]])}),m="|"+m.join("|")+"|",f(h,function(t){p[0]&&-1!==m.indexOf("|"+t[p[0]]+"|")||i.push(v(t,{value:null}))}))}c.prototype.setData.call(this,i,o)},drawGraph:L,drawDataLabels:L,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var t=this,i=t.xAxis,o=t.yAxis,a=t.doFullTranslate();t.generatePoints(),f(t.data,function(e){e.plotX=i.toPixels(e._midX,!0),e.plotY=o.toPixels(e._midY,!0),a&&(e.shapeType="path",e.shapeArgs={d:t.translatePath(e.path)},T&&(e.shapeArgs["vector-effect"]="non-scaling-stroke"))}),t.translateColors()},drawPoints:function(){var t,i,o,a,e=this,n=e.xAxis,s=e.yAxis,r=e.group,l=e.chart,h=l.renderer,p=this.baseTrans;e.transformGroup||(e.transformGroup=h.g().attr({scaleX:1,scaleY:1}).add(r),e.transformGroup.survive=!0),e.doFullTranslate()?(l.hasRendered&&"color"===e.pointAttrToOptions.fill&&f(e.points,function(t){t.graphic&&t.graphic.attr("fill",t.color)}),T||f(e.points,function(t){var i=t.pointAttr[""];i["stroke-width"]===e.pointAttr[""]["stroke-width"]&&(i["stroke-width"]="inherit")}),e.group=e.transformGroup,M.column.prototype.drawPoints.apply(e),e.group=r,f(e.points,function(t){t.graphic&&(t.name&&t.graphic.addClass("highcharts-name-"+t.name.replace(" ","-").toLowerCase()),t.properties&&t.properties["hc-key"]&&t.graphic.addClass("highcharts-key-"+t.properties["hc-key"].toLowerCase()),T||(t.graphic["stroke-widthSetter"]=L))}),this.baseTrans={originX:n.min-n.minPixelPadding/n.transA,originY:s.min-s.minPixelPadding/s.transA+(s.reversed?0:s.len/s.transA),transAX:n.transA,transAY:s.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(t=n.transA/p.transAX,i=s.transA/p.transAY,o=n.toPixels(p.originX,!0),a=s.toPixels(p.originY,!0),t>.99&&t<1.01&&i>.99&&i<1.01&&(t=1,i=1,o=Math.round(o),a=Math.round(a)),this.transformGroup.animate({translateX:o,translateY:a,scaleX:t,scaleY:i})),T||e.group.element.setAttribute("stroke-width",e.options.borderWidth/(t||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){c.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var t=this,i=c.prototype.render;t.chart.renderer.isVML&&t.data.length>3e3?setTimeout(function(){i.call(t)}):i.call(t)},animate:function(t){var i=this.chart,o=this.options.animation,a=this.group,e=this.xAxis,n=this.yAxis,s=e.pos,r=n.pos;i.renderer.isSVG&&(!0===o&&(o={duration:1e3}),t?a.attr({translateX:s+e.len/2,translateY:r+n.len/2,scaleX:.001,scaleY:.001}):(a.animate({translateX:s,translateY:r,scaleX:1,scaleY:1},o),this.animate=null))},animateDrilldown:function(t){var i,o=this.chart.plotBox,a=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],e=a.bBox,n=this.chart.options.drilldown.animation;t||(i=Math.min(e.width/o.width,e.height/o.height),a.shapeArgs={scaleX:i,scaleY:i,translateX:e.x,translateY:e.y},f(this.points,function(t){t.graphic&&t.graphic.attr(a.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},n)}),this.animate=null)},drawLegendSymbol:h.drawRectangle,animateDrillupFrom:function(t){M.column.prototype.animateDrillupFrom.call(this,t)},animateDrillupTo:function(t){M.column.prototype.animateDrillupTo.call(this,t)}})),w.mapline=v(w.map,{lineWidth:1,fillColor:"none"}),M.mapline=y(M.map,{type:"mapline",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth",fill:"fillColor",dashstyle:"dashStyle"},drawLegendSymbol:M.line.prototype.drawLegendSymbol}),w.mappoint=v(w.scatter,{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}}),M.mappoint=y(M.scatter,{type:"mappoint",forceDL:!0,pointClass:y(s,{applyOptions:function(t,i){var o=s.prototype.applyOptions.call(this,t,i);return void 0!==t.lat&&void 0!==t.lon&&(o=x(o,this.series.chart.fromLatLonToPoint(o))),o}})}),M.bubble&&(w.mapbubble=v(w.bubble,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}}),M.mapbubble=y(M.bubble,{pointClass:y(s,{applyOptions:function(t,i){var o;return void 0!==t.lat&&void 0!==t.lon?(o=s.prototype.applyOptions.call(this,t,i),o=x(o,this.series.chart.fromLatLonToPoint(o))):o=Y.prototype.applyOptions.call(this,t,i),o},ttBelow:!1}),xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:M.map.prototype.getMapData,getBox:M.map.prototype.getBox,setData:M.map.prototype.setData})),A.plotOptions.heatmap=v(A.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}}),M.heatmap=y(M.scatter,v(X,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;M.scatter.prototype.init.apply(this,arguments),t=this.options,this.pointRange=t.pointRange=b(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1},translate:function(){var t=this,i=t.options,o=t.xAxis,a=t.yAxis;t.generatePoints(),f(t.points,function(t){var e=(i.colsize||1)/2,n=(i.rowsize||1)/2,s=Math.round(o.len-o.translate(t.x-e,0,1,0,1)),r=Math.round(o.len-o.translate(t.x+e,0,1,0,1)),l=Math.round(a.translate(t.y-n,0,1,0,1)),h=Math.round(a.translate(t.y+n,0,1,0,1));t.plotX=t.clientX=(s+r)/2,t.plotY=(l+h)/2,t.shapeType="rect",t.shapeArgs={x:Math.min(s,r),y:Math.min(l,h),width:Math.abs(r-s),height:Math.abs(h-l)}}),t.translateColors(),this.chart.hasRendered&&f(t.points,function(t){t.shapeArgs.fill=t.options.color||t.color})},drawPoints:M.column.prototype.drawPoints,animate:L,getBox:L,drawLegendSymbol:h.drawRectangle,getExtremes:function(){c.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,c.prototype.getExtremes.call(this)}})),e.prototype.transformFromLatLon=function(t,i){if(void 0===window.proj4)return g(21),{x:0,y:null};var o=window.proj4(i.crs,[t.lon,t.lat]),a=i.cosAngle||i.rotation&&Math.cos(i.rotation),e=i.sinAngle||i.rotation&&Math.sin(i.rotation),n=i.rotation?[o[0]*a+o[1]*e,-o[0]*e+o[1]*a]:o;return{x:((n[0]-(i.xoffset||0))*(i.scale||1)+(i.xpan||0))*(i.jsonres||1)+(i.jsonmarginX||0),y:(((i.yoffset||0)-n[1])*(i.scale||1)+(i.ypan||0))*(i.jsonres||1)-(i.jsonmarginY||0)}},e.prototype.transformToLatLon=function(t,i){if(void 0!==window.proj4){var o={x:((t.x-(i.jsonmarginX||0))/(i.jsonres||1)-(i.xpan||0))/(i.scale||1)+(i.xoffset||0),y:((-t.y-(i.jsonmarginY||0))/(i.jsonres||1)+(i.ypan||0))/(i.scale||1)+(i.yoffset||0)},a=i.cosAngle||i.rotation&&Math.cos(i.rotation),e=i.sinAngle||i.rotation&&Math.sin(i.rotation),n=window.proj4(i.crs,"WGS84",i.rotation?{x:o.x*a+o.y*-e,y:o.x*e+o.y*a}:o);return{lat:n.y,lon:n.x}}g(21)},e.prototype.fromPointToLatLon=function(t){var o,a=this.mapTransforms;{if(a){for(o in a)if(a.hasOwnProperty(o)&&a[o].hitZone&&i({x:t.x,y:-t.y},a[o].hitZone.coordinates[0]))return this.transformToLatLon(t,a[o]);return this.transformToLatLon(t,a.default)}g(22)}},e.prototype.fromLatLonToPoint=function(t){var o,a,e=this.mapTransforms;if(!e)return g(22),{x:0,y:null};for(o in e)if(e.hasOwnProperty(o)&&e[o].hitZone&&(a=this.transformFromLatLon(t,e[o]),i({x:a.x,y:-a.y},e[o].hitZone.coordinates[0])))return a;return this.transformFromLatLon(t,e.default)},t.geojson=function(t,i,o){var a=[],e=[],n=function(t){var i=0,o=t.length;for(e.push("M");i<o;i++)1===i&&e.push("L"),e.push(t[i][0],-t[i][1])};return i=i||"map",f(t.features,function(t){var o,s=t.geometry,r=s.type,l=s.coordinates,h=t.properties;e=[],"map"===i||"mapbubble"===i?("Polygon"===r?(f(l,n),e.push("Z")):"MultiPolygon"===r&&(f(l,function(t){f(t,n)}),e.push("Z")),e.length&&(o={path:e})):"mapline"===i?("LineString"===r?n(l):"MultiLineString"===r&&f(l,n),e.length&&(o={path:e})):"mappoint"===i&&"Point"===r&&(o={x:l[0],y:-l[1]}),o&&a.push(x(o,{name:h.name||h.NAME,properties:h}))}),o&&t.copyrightShort&&(o.chart.mapCredits='<a href="http://www.highcharts.com">Highcharts</a> © <a href="'+t.copyrightUrl+'">'+t.copyrightShort+"</a>",o.chart.mapCreditsFull=t.copyright),a},C(e.prototype,"showCredits",function(t,i){A.credits.text===this.options.credits.text&&this.mapCredits&&(i.text=this.mapCredits,i.href=null),t.call(this,i),this.credits&&this.credits.attr({title:this.mapCreditsFull})}),x(A.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),A.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,style:{fontSize:"15px",fontWeight:"bold",textAlign:"center"},theme:{"stroke-width":1}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}}},t.splitPath=function(t){var i;for(t=(t=(t=t.replace(/([A-Za-z])/g," $1 ")).replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,]+/),i=0;i<t.length;i++)/[a-zA-Z]/.test(t[i])||(t[i]=parseFloat(t[i]));return t},t.maps={},d.prototype.symbols.topbutton=function(t,i,a,e,n){return o(t-1,i-1,a,e,n.r,n.r,0,0)},d.prototype.symbols.bottombutton=function(t,i,a,e,n){return o(t-1,i-1,a,e,0,0,n.r,n.r)},p===m&&f(["topbutton","bottombutton"],function(t){m.prototype.symbols[t]=d.prototype.symbols[t]}),t.Map=function(t,i){var o,a={endOnTick:!1,gridLineWidth:0,lineWidth:0,minPadding:0,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};return o=t.series,t.series=null,t=v({chart:{panning:"xy",type:"map"},xAxis:a,yAxis:v(a,{reversed:!0})},t,{chart:{inverted:!1,alignTicks:!1}}),t.series=o,new e(t,i)}}(Highcharts);