!function(t){function i(i,e,r){var s,a=e.options.chart.options3d,o=!1;r?(o=e.inverted,s={x:e.plotWidth/2,y:e.plotHeight/2,z:a.depth/2,vd:l(a.depth,1)*l(a.viewDistance,0)}):s={x:e.plotLeft+e.plotWidth/2,y:e.plotTop+e.plotHeight/2,z:a.depth/2,vd:l(a.depth,1)*l(a.viewDistance,0)};var n,c,y,u,x,f,g=[],z=s.x,v=s.y,b=s.z,m=s.vd,w=h*(o?a.beta:-a.beta),A=h*(o?-a.alpha:a.alpha),k=p(w),P=d(w),I=p(A),S=d(A);return t.each(i,function(t){n=(o?t.y:t.x)-z,c=(o?t.x:t.y)-v,y=(t.z||0)-b,u=P*n-k*y,x=-k*I*n-P*I*y+S*c,f=k*S*n+P*S*y+I*c,m>0&&m<Number.POSITIVE_INFINITY&&(u*=m/(f+b+m),x*=m/(f+b+m)),u+=z,x+=v,f+=b,g.push({x:o?x:u,y:o?u:x,z:f})}),g}function e(t){return void 0!==t&&null!==t}function r(t){var i,e,r=0;for(i=0;i<t.length;i++)e=(i+1)%t.length,r+=t[i].x*t[e].y-t[e].x*t[i].y;return r/2}function s(t){var i,e=0;for(i=0;i<t.length;i++)e+=t[i].z;return t.length?e/t.length:0}function a(t,i,e,r,s,o,h,l){var c=[];if(o>s&&o-s>n/2+1e-4)return c=c.concat(a(t,i,e,r,s,s+n/2,h,l)),c=c.concat(a(t,i,e,r,s+n/2,o,h,l));if(o<s&&s-o>n/2+1e-4)return c=c.concat(a(t,i,e,r,s,s-n/2,h,l)),c=c.concat(a(t,i,e,r,s-n/2,o,h,l));var u=o-s;return["C",t+e*d(s)-e*y*u*p(s)+h,i+r*p(s)+r*y*u*d(s)+l,t+e*d(o)+e*y*u*p(o)+h,i+r*p(o)-r*y*u*d(o)+l,t+e*d(o)+h,i+r*p(o)+l]}function o(i){if(this.chart.is3d()){var r=this.chart.options.plotOptions.column.grouping;void 0===r||r||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0);var s=this.options,a=this.options.states;this.borderWidth=s.borderWidth=e(s.edgeWidth)?s.edgeWidth:1,t.each(this.data,function(i){if(null!==i.y){var e=i.pointAttr;this.borderColor=t.pick(s.edgeColor,e[""].fill),e[""].stroke=this.borderColor,e.hover.stroke=t.pick(a.hover.edgeColor,this.borderColor),e.select.stroke=t.pick(a.select.edgeColor,this.borderColor)}})}i.apply(this,[].slice.call(arguments,1))}var n=Math.PI,h=n/180,p=Math.sin,d=Math.cos,l=t.pick,c=Math.round;t.perspective=i;var y=4*(Math.sqrt(2)-1)/3/(n/2);t.SVGRenderer.prototype.toLinePath=function(i,e){var r=[];return t.each(i,function(t){r.push("L",t.x,t.y)}),i.length&&(r[0]="M",e&&r.push("Z")),r},t.SVGRenderer.prototype.cuboid=function(i){var r=this.g(),s=this.cuboidPath(i);return r.front=this.path(s[0]).attr({zIndex:s[3],"stroke-linejoin":"round"}).add(r),r.top=this.path(s[1]).attr({zIndex:s[4],"stroke-linejoin":"round"}).add(r),r.side=this.path(s[2]).attr({zIndex:s[5],"stroke-linejoin":"round"}).add(r),r.fillSetter=function(i){var e=i,r=t.Color(i).brighten(.1).get(),s=t.Color(i).brighten(-.1).get();return this.front.attr({fill:e}),this.top.attr({fill:r}),this.side.attr({fill:s}),this.color=i,this},r.opacitySetter=function(t){return this.front.attr({opacity:t}),this.top.attr({opacity:t}),this.side.attr({opacity:t}),this},r.attr=function(i){if(i.shapeArgs||e(i.x)){var r=i.shapeArgs||i,s=this.renderer.cuboidPath(r);this.front.attr({d:s[0],zIndex:s[3]}),this.top.attr({d:s[1],zIndex:s[4]}),this.side.attr({d:s[2],zIndex:s[5]})}else t.SVGElement.prototype.attr.call(this,i);return this},r.animate=function(i,r,s){if(e(i.x)&&e(i.y)){var a=this.renderer.cuboidPath(i);this.front.attr({zIndex:a[3]}).animate({d:a[0]},r,s),this.top.attr({zIndex:a[4]}).animate({d:a[1]},r,s),this.side.attr({zIndex:a[5]}).animate({d:a[2]},r,s)}else i.opacity?(this.front.animate(i,r,s),this.top.animate(i,r,s),this.side.animate(i,r,s)):t.SVGElement.prototype.animate.call(this,i,r,s);return this},r.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},r.attr({zIndex:-s[3]}),r},t.SVGRenderer.prototype.cuboidPath=function(e){var a=e.x,o=e.y,n=e.z,h=e.height,p=e.width,d=e.depth,l=t.charts[this.chartIndex],c=t.map,y=[{x:a,y:o,z:n},{x:a+p,y:o,z:n},{x:a+p,y:o+h,z:n},{x:a,y:o+h,z:n},{x:a,y:o+h,z:n+d},{x:a+p,y:o+h,z:n+d},{x:a+p,y:o,z:n+d},{x:a,y:o,z:n+d}];y=i(y,l,e.insidePlotArea);var u=function(t,i){return t=c(t,function(t){return y[t]}),i=c(i,function(t){return y[t]}),r(t)<0?t:r(i)<0?i:[]},x=u([3,2,1,0],[7,6,5,4]),f=u([1,6,7,0],[4,5,2,3]),g=u([1,2,5,6],[0,7,4,3]);return[this.toLinePath(x,!0),this.toLinePath(f,!0),this.toLinePath(g,!0),s(x),s(f),s(g)]},t.SVGRenderer.prototype.arc3d=function(i){i.alpha*=h,i.beta*=h;var r=this.g(),s=this.arc3dPath(i),a=r.renderer,o=100*s.zTop;return r.shapeArgs=i,r.top=a.path(s.top).setRadialReference(i.center).attr({zIndex:s.zTop}).add(r),r.side1=a.path(s.side2).attr({zIndex:s.zSide1}),r.side2=a.path(s.side1).attr({zIndex:s.zSide2}),r.inn=a.path(s.inn).attr({zIndex:s.zInn}),r.out=a.path(s.out).attr({zIndex:s.zOut}),r.fillSetter=function(i){this.color=i;var e=i,r=t.Color(i).brighten(-.1).get();return this.side1.attr({fill:r}),this.side2.attr({fill:r}),this.inn.attr({fill:r}),this.out.attr({fill:r}),this.top.attr({fill:e}),this},r.translateXSetter=function(t){this.out.attr({translateX:t}),this.inn.attr({translateX:t}),this.side1.attr({translateX:t}),this.side2.attr({translateX:t}),this.top.attr({translateX:t})},r.translateYSetter=function(t){this.out.attr({translateY:t}),this.inn.attr({translateY:t}),this.side1.attr({translateY:t}),this.side2.attr({translateY:t}),this.top.attr({translateY:t})},r.animate=function(i,r,s){return e(i.end)||e(i.start)?(this._shapeArgs=this.shapeArgs,t.SVGElement.prototype.animate.call(this,{_args:i},{duration:r,step:function(){var i=arguments[1],e=i.elem,r=e._shapeArgs,s=i.end,a=i.pos,o=t.merge(r,{x:r.x+(s.x-r.x)*a,y:r.y+(s.y-r.y)*a,r:r.r+(s.r-r.r)*a,innerR:r.innerR+(s.innerR-r.innerR)*a,start:r.start+(s.start-r.start)*a,end:r.end+(s.end-r.end)*a}),n=e.renderer.arc3dPath(o);e.shapeArgs=o,e.top.attr({d:n.top,zIndex:n.zTop}),e.inn.attr({d:n.inn,zIndex:n.zInn}),e.out.attr({d:n.out,zIndex:n.zOut}),e.side1.attr({d:n.side1,zIndex:n.zSide1}),e.side2.attr({d:n.side2,zIndex:n.zSide2})}},s)):t.SVGElement.prototype.animate.call(this,i,r,s),this},r.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),t.SVGElement.prototype.destroy.call(this)},r.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},r.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},r.zIndex=o,r.attr({zIndex:o}),r},t.SVGRenderer.prototype.arc3dPath=function(t){var i=t.x,e=t.y,r=t.start,s=t.end-1e-5,o=t.r,h=t.innerR,l=t.depth,c=t.alpha,y=t.beta,u=d(r),x=p(r),f=d(s),g=p(s),z=o*d(y),v=o*d(c),b=h*d(y),m=h*d(c),w=l*p(y),A=l*p(c),k=["M",i+z*u,e+v*x];k=(k=(k=(k=k.concat(a(i,e,z,v,r,s,0,0))).concat(["L",i+b*f,e+m*g])).concat(a(i,e,b,m,s,r,0,0))).concat(["Z"]);var P=y>0?n/2:0,I=c>0?0:n/2,S=r>-P?r:s>-P?-P:r,L=s<n-I?s:r<n-I?n-I:s,C=["M",i+z*d(S),e+v*p(S)];C=(C=(C=(C=C.concat(a(i,e,z,v,S,L,0,0))).concat(["L",i+z*d(L)+w,e+v*p(L)+A])).concat(a(i,e,z,v,L,S,w,A))).concat(["Z"]);var M=["M",i+b*u,e+m*x];M=(M=(M=(M=M.concat(a(i,e,b,m,r,s,0,0))).concat(["L",i+b*d(s)+w,e+m*p(s)+A])).concat(a(i,e,b,m,s,r,w,A))).concat(["Z"]);var T=["M",i+z*u,e+v*x,"L",i+z*u+w,e+v*x+A,"L",i+b*u+w,e+m*x+A,"L",i+b*u,e+m*x,"Z"],W=["M",i+z*f,e+v*g,"L",i+z*f+w,e+v*g+A,"L",i+b*f+w,e+m*g+A,"L",i+b*f,e+m*g,"Z"],V=p((r+s)/2),Y=p(r),F=p(s);return{top:k,zTop:o,out:C,zOut:Math.max(V,Y,F)*o,inn:M,zInn:Math.max(V,Y,F)*o,side1:T,zSide1:Y*(.99*o),side2:W,zSide2:F*(.99*o)}},t.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},t.wrap(t.Chart.prototype,"isInsidePlot",function(t){return!!this.is3d()||t.apply(this,[].slice.call(arguments,1))}),t.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},t.wrap(t.Chart.prototype,"init",function(i){var e,r=[].slice.call(arguments,1);r[0].chart.options3d&&r[0].chart.options3d.enabled&&((e=(r[0].plotOptions||{}).pie||{}).borderColor=t.pick(e.borderColor,void 0)),i.apply(this,r)}),t.wrap(t.Chart.prototype,"setChartSize",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.is3d()){var i=this.inverted,e=this.clipBox,r=this.margin,s=i?"y":"x",a=i?"x":"y",o=i?"height":"width",n=i?"width":"height";e[s]=-(r[3]||0),e[a]=-(r[0]||0),e[o]=this.chartWidth+(r[3]||0)+(r[1]||0),e[n]=this.chartHeight+(r[0]||0)+(r[2]||0)}}),t.wrap(t.Chart.prototype,"redraw",function(t){this.is3d()&&(this.isDirtyBox=!0),t.apply(this,[].slice.call(arguments,1))}),t.wrap(t.Chart.prototype,"renderSeries",function(t){var i,e=this.series.length;if(this.is3d())for(;e--;)(i=this.series[e]).translate(),i.render();else t.call(this)}),t.Chart.prototype.retrieveStacks=function(i){var e,r=this.series,s={},a=1;return t.each(this.series,function(t){e=i?t.options.stack||0:r.length-1-t.index,s[e]?s[e].series.push(t):(s[e]={series:[t],position:a},a++)}),s.totalStacks=a+1,s},t.wrap(t.Axis.prototype,"init",function(i){var e=arguments;e[1].is3d()&&(e[2].tickWidth=t.pick(e[2].tickWidth,0),e[2].gridLineWidth=t.pick(e[2].gridLineWidth,1)),i.apply(this,[].slice.call(arguments,1))}),t.wrap(t.Axis.prototype,"render",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var i=this.chart,e=i.renderer,r=i.options.chart.options3d,s=r.frame,a=s.bottom,o=s.back,n=s.side,h=r.depth,p=this.height,d=this.width,l=this.left,c=this.top;if(!this.isZAxis)if(this.horiz){var y={x:l,y:c+(i.xAxis[0].opposite?-a.size:p),z:0,width:d,height:a.size,depth:h,insidePlotArea:!1};this.bottomFrame?this.bottomFrame.animate(y):this.bottomFrame=e.cuboid(y).attr({fill:a.color,zIndex:i.yAxis[0].reversed&&r.alpha>0?4:-1}).css({stroke:a.color}).add()}else{var u={x:l+(i.yAxis[0].opposite?0:-n.size),y:c+(i.xAxis[0].opposite?-a.size:0),z:h,width:d+n.size,height:p+a.size,depth:o.size,insidePlotArea:!1};this.backFrame?this.backFrame.animate(u):this.backFrame=e.cuboid(u).attr({fill:o.color,zIndex:-3}).css({stroke:o.color}).add();var x={x:l+(i.yAxis[0].opposite?d:-n.size),y:c+(i.xAxis[0].opposite?-a.size:0),z:0,width:n.size,height:p+a.size,depth:h,insidePlotArea:!1};this.sideFrame?this.sideFrame.animate(x):this.sideFrame=e.cuboid(x).attr({fill:n.color,zIndex:-2}).css({stroke:n.color}).add()}}}),t.wrap(t.Axis.prototype,"getPlotLinePath",function(t){var e=t.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return e;if(null===e)return e;var r=this.chart.options.chart.options3d,s=this.isZAxis?this.chart.plotWidth:r.depth,a=this.opposite;this.horiz&&(a=!a);var o=[this.swapZ({x:e[1],y:e[2],z:a?s:0}),this.swapZ({x:e[1],y:e[2],z:s}),this.swapZ({x:e[4],y:e[5],z:s}),this.swapZ({x:e[4],y:e[5],z:a?0:s})];return o=i(o,this.chart,!1),e=this.chart.renderer.toLinePath(o,!1)}),t.wrap(t.Axis.prototype,"getLinePath",function(){return[]}),t.wrap(t.Axis.prototype,"getPlotBandPath",function(t){if(this.chart.is3d()){var i=arguments,e=i[1],r=i[2],s=this.getPlotLinePath(r),a=this.getPlotLinePath(e);return a&&s?a.push("L",s[10],s[11],"L",s[7],s[8],"L",s[4],s[5],"L",s[1],s[2]):a=null,a}return t.apply(this,[].slice.call(arguments,1))}),t.wrap(t.Tick.prototype,"getMarkPath",function(t){var e=t.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return e;var r=[this.axis.swapZ({x:e[1],y:e[2],z:0}),this.axis.swapZ({x:e[4],y:e[5],z:0})];return r=i(r,this.axis.chart,!1),e=["M",r[0].x,r[0].y,"L",r[1].x,r[1].y]}),t.wrap(t.Tick.prototype,"getLabelPosition",function(t){var e=t.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return e;var r=i([this.axis.swapZ({x:e.x,y:e.y,z:0})],this.axis.chart,!1)[0];return r.x=r.x-(!this.axis.horiz&&this.axis.opposite?this.axis.transA:0),r.old=e,r}),t.wrap(t.Tick.prototype,"handleOverflow",function(t,i){return this.axis.chart.is3d()&&(i=i.old),t.call(this,i)}),t.wrap(t.Axis.prototype,"getTitlePosition",function(t){var e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d()?e=i([this.swapZ({x:e.x,y:e.y,z:0})],this.chart,!1)[0]:e}),t.wrap(t.Axis.prototype,"drawCrosshair",function(t){var i=arguments;this.chart.is3d()&&i[2]&&(i[2]={plotX:i[2].plotXold||i[2].plotX,plotY:i[2].plotYold||i[2].plotY}),t.apply(this,[].slice.call(i,1))}),t.Axis.prototype.swapZ=function(t,i){if(this.isZAxis){var e=i?0:this.chart.plotLeft,r=this.chart;return{x:e+(r.yAxis[0].opposite?t.z:r.xAxis[0].width-t.z),y:t.y,z:t.x-e}}return t};var u=t.ZAxis=function(){this.isZAxis=!0,this.init.apply(this,arguments)};t.extend(u.prototype,t.Axis.prototype),t.extend(u.prototype,{setOptions:function(i){i=t.merge({offset:0,lineWidth:0},i),t.Axis.prototype.setOptions.call(this,i),this.coll="zAxis"},setAxisSize:function(){t.Axis.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var i=this,e=i.chart;i.hasVisibleSeries=!1,i.dataMin=i.dataMax=i.ignoreMinPadding=i.ignoreMaxPadding=null,i.buildStacks&&i.buildStacks(),t.each(i.series,function(t){if(t.visible||!e.options.chart.ignoreHiddenSeries){var r,s=t.options.threshold;i.hasVisibleSeries=!0,i.isLog&&s<=0&&(s=null),(r=t.zData).length&&(i.dataMin=Math.min(l(i.dataMin,r[0]),Math.min.apply(null,r)),i.dataMax=Math.max(l(i.dataMax,r[0]),Math.max.apply(null,r)))}})}}),t.wrap(t.Chart.prototype,"getAxes",function(i){var e=this,r=this.options,s=r.zAxis=t.splat(r.zAxis||{});i.call(this),e.is3d()&&(this.zAxis=[],t.each(s,function(t,i){t.index=i,t.isX=!0,new u(e,t).setScale()}))}),t.wrap(t.seriesTypes.column.prototype,"translate",function(e){if(e.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var r=this,s=r.chart,a=r.options,o=a.depth||25,n=(a.stacking?a.stack||0:r._i)*(o+(a.groupZPadding||1));!1!==a.grouping&&(n=0),n+=a.groupZPadding||1,t.each(r.data,function(t){if(null!==t.y){var e=t.shapeArgs,r=t.tooltipPos;t.shapeType="cuboid",e.z=n,e.depth=o,e.insidePlotArea=!0,r=i([{x:r[0],y:r[1],z:n}],s,!1)[0],t.tooltipPos=[r.x,r.y]}}),r.z=n}}),t.wrap(t.seriesTypes.column.prototype,"animate",function(i){if(this.chart.is3d()){var e=arguments[1],r=this.yAxis,s=this,a=this.yAxis.reversed;t.svg&&(e?t.each(s.data,function(t){null!==t.y&&(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,a||(t.stackY?t.shapeArgs.y=t.plotY+r.translate(t.stackY):t.shapeArgs.y=t.plotY+(t.negative?-t.height:t.height)))}):(t.each(s.data,function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic.animate(t.shapeArgs,s.options.animation))}),this.drawDataLabels(),s.animate=null))}else i.apply(this,[].slice.call(arguments,1))}),t.wrap(t.seriesTypes.column.prototype,"init",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var i=this.options,e=i.grouping,r=i.stacking,s=0;if(void 0===e||e){var a,o=this.chart.retrieveStacks(r),n=i.stack||0;for(a=0;a<o[n].series.length&&o[n].series[a]!==this;a++);s=10*o.totalStacks-10*(o.totalStacks-o[n].position)-a}i.zIndex=s}}),t.wrap(t.Series.prototype,"alignDataLabel",function(t){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var e=this,r=e.chart,s=arguments[4],a={x:s.x,y:s.y,z:e.z};a=i([a],r,!0)[0],s.x=a.x,s.y=a.y}t.apply(this,[].slice.call(arguments,1))}),t.seriesTypes.columnrange&&t.wrap(t.seriesTypes.columnrange.prototype,"drawPoints",o),t.wrap(t.seriesTypes.column.prototype,"drawPoints",o),t.wrap(t.seriesTypes.pie.prototype,"translate",function(i){if(i.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var e=this,r=e.chart,s=r.options,a=e.options,o=a.depth||0,n=s.chart.options3d,l={x:r.plotWidth/2,y:r.plotHeight/2,z:n.depth},y=n.alpha,u=n.beta,x=a.stacking?(a.stack||0)*o:e._i*o;x+=o/2,!1!==a.grouping&&(x=0),t.each(e.data,function(t){var i,r=t.shapeArgs;t.shapeType="arc3d",r.z=x,r.depth=.75*o,r.origin=l,r.alpha=y,r.beta=u,r.center=e.center,i=(r.end+r.start)/2,t.slicedTranslation={translateX:c(d(i)*a.slicedOffset*d(y*h)),translateY:c(p(i)*a.slicedOffset*d(y*h))}})}}),t.wrap(t.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(t){var i=arguments;return this.series.chart.is3d()?[]:t.call(this,i[1])}),t.wrap(t.seriesTypes.pie.prototype,"drawPoints",function(i){var e=this.group,r=this.options,s=r.states;this.chart.is3d()&&(this.borderWidth=r.borderWidth=r.edgeWidth||1,this.borderColor=r.edgeColor=t.pick(r.edgeColor,r.borderColor,void 0),s.hover.borderColor=t.pick(s.hover.edgeColor,this.borderColor),s.hover.borderWidth=t.pick(s.hover.edgeWidth,this.borderWidth),s.select.borderColor=t.pick(s.select.edgeColor,this.borderColor),s.select.borderWidth=t.pick(s.select.edgeWidth,this.borderWidth),t.each(this.data,function(t){var i=t.pointAttr;i[""].stroke=t.series.borderColor||t.color,i[""]["stroke-width"]=t.series.borderWidth,i.hover.stroke=s.hover.borderColor,i.hover["stroke-width"]=s.hover.borderWidth,i.select.stroke=s.select.borderColor,i.select["stroke-width"]=s.select.borderWidth})),i.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&t.each(this.points,function(t){var i=t.graphic;i.out.add(e),i.inn.add(e),i.side1.add(e),i.side2.add(e),i[t.y?"show":"hide"]()})}),t.wrap(t.seriesTypes.pie.prototype,"drawDataLabels",function(i){if(this.chart.is3d()){var e=this;t.each(e.data,function(t){var i=t.shapeArgs,r=i.r,s=i.depth,a=(i.alpha||e.chart.options.chart.options3d.alpha)*h,o=(i.start+i.end)/2,n=t.labelPos;n[1]+=-r*(1-d(a))*p(o)+(p(o)>0?p(a)*s:0),n[3]+=-r*(1-d(a))*p(o)+(p(o)>0?p(a)*s:0),n[5]+=-r*(1-d(a))*p(o)+(p(o)>0?p(a)*s:0)})}i.apply(this,[].slice.call(arguments,1))}),t.wrap(t.seriesTypes.pie.prototype,"addPoint",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),t.wrap(t.seriesTypes.pie.prototype,"animate",function(i){if(this.chart.is3d()){var e,r=arguments[1],s=this.options.animation,a=this.center,o=this.group,n=this.markerGroup;t.svg&&(!0===s&&(s={}),r?(o.oldtranslateX=o.translateX,o.oldtranslateY=o.translateY,e={translateX:a[0],translateY:a[1],scaleX:.001,scaleY:.001},o.attr(e),n&&(n.attrSetters=o.attrSetters,n.attr(e))):(e={translateX:o.oldtranslateX,translateY:o.oldtranslateY,scaleX:1,scaleY:1},o.animate(e,s),n&&n.animate(e,s),this.animate=null))}else i.apply(this,[].slice.call(arguments,1))}),t.wrap(t.seriesTypes.scatter.prototype,"translate",function(e){if(e.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var r,s,a,o,n=this,h=n.chart,p=t.pick(n.zAxis,h.options.zAxis[0]),d=[];for(o=0;o<n.data.length;o++)(r=n.data[o]).isInside=!!r.isInside&&(r.z>=p.min&&r.z<=p.max),d.push({x:r.plotX,y:r.plotY,z:p.translate(r.z)});for(s=i(d,h,!0),o=0;o<n.data.length;o++)r=n.data[o],a=s[o],r.plotXold=r.plotX,r.plotYold=r.plotY,r.plotX=a.x,r.plotY=a.y,r.plotZ=a.z}}),t.wrap(t.seriesTypes.scatter.prototype,"init",function(t,i,e){i.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"]);var r=t.apply(this,[i,e]);if(this.chart.is3d()){var s="x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>";this.userOptions.tooltip?this.tooltipOptions.pointFormat=this.userOptions.tooltip.pointFormat||s:this.tooltipOptions.pointFormat=s}return r}),t.VMLRenderer&&(t.setOptions({animate:!1}),t.VMLRenderer.prototype.cuboid=t.SVGRenderer.prototype.cuboid,t.VMLRenderer.prototype.cuboidPath=t.SVGRenderer.prototype.cuboidPath,t.VMLRenderer.prototype.toLinePath=t.SVGRenderer.prototype.toLinePath,t.VMLRenderer.prototype.createElement3D=t.SVGRenderer.prototype.createElement3D,t.VMLRenderer.prototype.arc3d=function(i){var e=t.SVGRenderer.prototype.arc3d.call(this,i);return e.css({zIndex:e.zIndex}),e},t.VMLRenderer.prototype.arc3dPath=t.SVGRenderer.prototype.arc3dPath,t.wrap(t.Axis.prototype,"render",function(t){t.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))}(Highcharts);