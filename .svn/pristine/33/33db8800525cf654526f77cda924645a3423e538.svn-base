$.components={CONST_RADIO_VALUES:{POOR_ATTRIBUTE:{ALL:{name:"全部",value:"all"},LOW:{name:"低保户",value:"low"},FIVE:{name:"五保户",value:"five"},NO_LABOR:{name:"无劳动能力的一般贫困户",value:"no_labor"},NORMAL:{name:"一般贫困户",value:"normal"}},EDU_LEVELS:{ALL:{name:"全部",value:"all"},COMPULSORY:{name:"义务教育",value:"compulsory"},HIGH_SCHOOL:{name:"高中（中职）教育",value:"high_school"}},LABOR_ATTRIBUTE:{ALL:{name:"全部",value:"all"},HAVE_LABOR:{name:"有劳动能力",value:"have_labor"},NO_LABOR:{name:"无劳动能力",value:"no_labor"}},PROJECT_ATTRIBUTE:{ALL:{name:"全部",value:"all"},COUNTRY:{name:"到村项目",value:"country"},FAMILY:{name:"到户项目",value:"family"}}},CONST_CHECK_VALUES:{POOR_REASON:{DISEASE:{name:"因病",value:"disease"},DISABLED:{name:"因残",value:"disabled"},EDU:{name:"因学",value:"edu"},DISASTER:{name:"因灾",value:"disaster"},LAND:{name:"缺土地",value:"land"},WATER:{name:"缺水",value:"water"},SKILL:{name:"缺技术",value:"skill"},LABOR:{name:"缺劳力",value:"labor"},MONEY:{name:"缺资金",value:"money"},TRAFFIC:{name:"交通落后",value:"traffic"},SELF_DEV:{name:"自身发展",value:"self_dev"},OTHER:{name:"其他",value:"other"}},EXCEPTION_TYPE:{ID_CARD:{name:"身份证不匹配",value:"id_card"},LOW_FIVE:{name:"低保五保不匹配",value:"low_five"},DISABLED_INFO:{name:"残疾信息不匹配",value:"disabled_info"},HOUSE:{name:"名下有房",value:"house"},CAR:{name:"名下有车",value:"car"},I_N_C_INFO:{name:"有工商注册信息",value:"i_n_c_info"},FINANCE:{name:"享有财政供养",value:"finance"},HOLDER_ID_MISS:{name:"户主身份信息错漏",value:"holder_id_miss"},MEMBER_ID_MISS:{name:"成员身份信息错漏",value:"member_id_miss"},DISABLED_INFO_MISS:{name:"残疾信息错漏",value:"disabled_info_miss"},ID_REPEAT:{name:"重复身份信息记录",value:"id_repeat"}},PROJECT_TYPE_COUNTRY:{COUNTRY_ROAD:{name:"村道硬底化",value:"country_road"},COUNTRY_WATER:{name:"饮水工程",value:"country_water"},COUNTRY_RECREATION_SPORT:{name:"文体设施",value:"country_recreation_sport"},COUNTRY_HYGIENE:{name:"卫生设施",value:"country_hygiene"},COUNTRY_LAMP:{name:"路灯安装",value:"country_lamp"},COUNTRY_FARM:{name:"农田水利",value:"country_farm"},COUNTRY_PUBLIC_FACILITY:{name:"公共设施",value:"country_public_facility"},COUNTRY_COLLECTIVE_ECONOMY:{name:"集体经济",value:"country_collective_economy"},COUNTRY_EDU:{name:"教育教学",value:"country_edu"},COUNTRY_OTHER:{name:"其他",value:"country_other"}},PROJECT_TYPE_FAMILY:{FAMILY_INDUSTRY:{name:"产业扶贫",value:"family_industry"},FAMILY_FINANCE:{name:"金融扶贫",value:"family_finance"},FAMILY_HOUSE:{name:"住房改造",value:"family_house"},FAMILY_PROPERTY:{name:"资产扶贫",value:"family_property"},FAMILY_VISIT:{name:"慰问扶贫",value:"family_visit"},FAMILY_EMPLOYMENT:{name:"就业扶贫",value:"family_employment"},FAMILY_SKILL:{name:"技能培训",value:"family_skill"},FAMILY_EDU:{name:"教育扶贫",value:"family_edu"},FAMILY_POLICY:{name:"政策补贴和社会保障",value:"family_policy"}}},ROW_KEY:{SCOPE:"scope",POOR_ATTRIBUTE:"poor_attribute",LABOR_ATTRIBUTE:"labor_attribute",STATUS_ATTRIBUTE:"status_attribute",SCORE:"score",INCOME:"income",GUARANTEE:"guarantee",EDU_LEVELS:"edu_levels",POOR_REASON:"poor_reason",EXCEPTION_TYPE:"exception_type",PROJECT_ATTRIBUTE:"project_attribute",PROJECT_TYPE_COUNTRY:"project_type_country",PROJECT_TYPE_FAMILY:"project_type_family"},buildCheckRow:function(a,e){function r(a,e){var e=e||1,r="<tr class='radio-row clearfix' data-key="+a.rowKey+"><td class='check-area-label'><strong>"+a.title+"：</strong></td><td><p>";if(1==e){r=void 0!==a.checkArr[0].url?r+'<a class="radio active" data-url='+a.checkArr[0].url+" data-value="+a.checkArr[0].value+">"+a.checkArr[0].name+"</a>":r+'<a class="radio active" data-value='+a.checkArr[0].value+">"+a.checkArr[0].name+"</a>";for(t=1;t<a.checkArr.length;t++)r=void 0!==a.checkArr[t].url?r+'<a class="radio " data-url='+a.checkArr[t].url+" data-value="+a.checkArr[t].value+">"+a.checkArr[t].name+"</a>":r+'<a class="radio " data-value='+a.checkArr[t].value+">"+a.checkArr[t].name+"</a>"}else for(var t=0;t<a.checkArr.length;t++)r=a.checkArr[t].value==e?void 0!==a.checkArr[t].url?r+'<a class="radio active" data-url='+a.checkArr[t].url+" data-value="+a.checkArr[t].value+">"+a.checkArr[t].name+"</a>":r+'<a class="radio active" data-value='+a.checkArr[t].value+">"+a.checkArr[t].name+"</a>":void 0!==a.checkArr[t].url?r+'<a class="radio " data-url='+a.checkArr[t].url+" data-value="+a.checkArr[t].value+">"+a.checkArr[t].name+"</a>":r+'<a class="radio " data-value='+a.checkArr[t].value+">"+a.checkArr[t].name+"</a>";return r+"</td></p></tr>"}function t(a,e){var e=e||"defaultCheck",r="<tr class='check-row clearfix' data-key="+a.rowKey+"><td class='check-area-label'><strong>"+a.title+"：</strong></td><td><p>";if(a.hasCheckAll&&(r=r+'<a class="check '+("defaultCheck"==e||Object.keys(e).length===a.checkArr.length?"active ":" ")+'" data-check-all>全选</a>'),"defaultCheck"==e)for(t=0;t<a.checkArr.length;t++)r=r+'<a class="check active" data-value='+a.checkArr[t].value+">"+a.checkArr[t].name+"</a>";else for(var t=0;t<a.checkArr.length;t++){for(var l=0,n=0;n<e.length;n++)if(e[n]==a.checkArr[t].value){r=r+'<a class="check active" data-value='+a.checkArr[t].value+">"+a.checkArr[t].name+"</a>",l=1;break}0==l&&(r=r+'<a class="check " data-value='+a.checkArr[t].value+">"+a.checkArr[t].name+"</a>")}return r+"</td></p></tr>"}var l=!1,n=$.components.ROW_KEY,i=$.components.CONST_RADIO_VALUES,o=$.components.CONST_CHECK_VALUES;if("object"==typeof a){var c=a.checkArr;l=!0,a=a.rowKey}switch(a){case n.SCOPE:return r(v={title:"区域类型",rowType:"radio",rowKey:a,checkArr:l&&c?c:[{name:"全部",value:"1"},{name:"相对贫困村",value:"2"},{name:"分散村",value:"3"},{name:"革命老区",value:"4"},{name:"中央苏区",value:"5"}]},e);case n.POOR_ATTRIBUTE:return r(v={title:"贫困属性",rowType:"radio",rowKey:a,checkArr:l&&c?c:[{name:"全部",value:"all"},{name:"一般贫困户",value:"normal"},{name:"低保户",value:"low"},{name:"五保户",value:"five"}]},e);case n.LABOR_ATTRIBUTE:var s=i.LABOR_ATTRIBUTE;return r(v={title:"劳力属性",rowType:"radio",rowKey:a,checkArr:l&&c?c:[s.ALL,s.HAVE_LABOR,s.NO_LABOR]},e);case n.STATUS_ATTRIBUTE:return r(v={title:"状态属性",rowType:"radio",rowKey:a,checkArr:l&&c?c:[{name:"累计贫困户",value:"all",url:"URL_DATA_MONITOR_POOR_CHANGE_ANALYSIS_ALL"},{name:"当前贫困户",value:"poor_cur",url:"URL_DATA_MONITOR_POOR_CHANGE_ANALYSIS_CUR"},{name:"新增贫困户",value:"poor_add",url:"URL_DATA_MONITOR_POOR_CHANGE_ANALYSIS_ADD"},{name:"终止贫困户",value:"poor_end",url:"URL_DATA_MONITOR_POOR_CHANGE_ANALYSIS_END"},{name:"自然增减户",value:"natural_change",url:"URL_DATA_MONITOR_POOR_CHANGE_ANALYSIS_NATURAL_CHANGE"}]},e);case n.SCORE:return r(v={title:"综合得分",rowType:"radio",rowKey:a,checkArr:l&&c?c:[{name:"全部",value:"all"},{name:"综合得分<60分",value:"domain_1"},{name:"60分≤综合得分<100分",value:"domain_2"},{name:"综合得分=100",value:"domain_3"}]},e);case n.INCOME:return r(v={title:"两不愁",rowType:"radio",rowKey:a,checkArr:l&&c?c:[{name:"全部",value:"all"},{name:"可支配收入<4000元",value:"domain_1"},{name:"4000元≤可支配收入<7365元",value:"domain_2"},{name:"可支配收入≥7365元",value:"domain_3"},{name:"未落实低保/无保政策",value:"no_security"}]},e);case n.GUARANTEE:return r(v={title:"三保障",rowType:"radio",rowKey:a,checkArr:l&&c?c:[{name:"全部",value:"all"},{name:"未落实教育政策",value:"edu"},{name:"未落实医保政策",value:"medical_security"},{name:"住房未达标",value:"house"}]},e);case n.EDU_LEVELS:var u=i.EDU_LEVELS;return r(v={title:"教育阶段",rowType:"radio",rowKey:a,checkArr:l&&c?c:[u.ALL,u.COMPULSORY,u.HIGH_SCHOOL]},e);case n.POOR_REASON:var _=o.POOR_REASON;return t(v={title:"致贫原因",rowType:"check",rowKey:a,checkArr:l&&c?c:[_.DISEASE,_.DISABLED,_.EDU,_.DISASTER,_.LAND,_.WATER,_.SKILL,_.LABOR,_.MONEY,_.TRAFFIC,_.SELF_DEV,_.OTHER]},e);case n.EXCEPTION_TYPE:var d=o.EXCEPTION_TYPE;return t(v={title:"异常类型",rowType:"check",rowKey:a,checkArr:l&&c?c:[d.ID_CARD,d.LOW_FIVE,d.DISABLED_INFO,d.HOUSE,d.CAR,d.I_N_C_INFO,d.FINANCE]},e);case n.PROJECT_ATTRIBUTE:A=i.PROJECT_ATTRIBUTE;return r(v={title:"项目属性",rowType:"radio",rowKey:a,checkArr:l&&c?c:[A.ALL,A.COUNTRY,A.FAMILY]},e);case n.PROJECT_TYPE_FAMILY:A=o.PROJECT_TYPE_FAMILY;return t(v={title:"到户项目",rowType:"check",rowKey:a,hasCheckAll:!0,checkArr:l&&c?c:[A.FAMILY_INDUSTRY,A.FAMILY_FINANCE,A.FAMILY_HOUSE,A.FAMILY_PROPERTY,A.FAMILY_VISIT,A.FAMILY_EMPLOYMENT,A.FAMILY_SKILL,A.FAMILY_EDU,A.FAMILY_POLICY]},e);case n.PROJECT_TYPE_COUNTRY:var A=o.PROJECT_TYPE_COUNTRY,v={title:"到村项目",rowType:"check",rowKey:a,hasCheckAll:!0,checkArr:l&&c?c:[A.COUNTRY_ROAD,A.COUNTRY_WATER,A.COUNTRY_RECREATION_SPORT,A.COUNTRY_HYGIENE,A.COUNTRY_LAMP,A.COUNTRY_FARM,A.COUNTRY_PUBLIC_FACILITY,A.COUNTRY_COLLECTIVE_ECONOMY,A.COUNTRY_EDU,A.COUNTRY_OTHER]};return t(v,e)}},tabSwitch:function(a,e,r){function t(a){A.removeClass("forbid"),A.removeClass("js-forbid"),d.removeClass("forbid"),d.removeClass("js-forbid")}for(var l=e.length,n="",i=0,o=0,c=!1,s=0;s<l;s++)n=n+"<li data-value="+e[s].value+">"+e[s].name+"</li>";var u='<i class="icon icon-arrow-left"></i>\t\t <div class="overflow-wrap">         <ul class="tab-list">'+n+'</ul>         </div>         <i class="icon icon-arrow-right"></i>';a.html(u);for(s=0;s<l;s++)_thisW=$(a.find("li")[s]).width(),_thisW>i&&(i=_thisW);a.find("li").width(i);var _=a.find(".tab-list"),d=a.find(".icon-arrow-left"),A=a.find(".icon-arrow-right"),v=i+28,T=v*l,f=v-T;a.css("width",v);for(s=0;s<l;s++)r==e[s].value&&(o=s);_.find("li").eq(o).addClass("active"),_.css("width",T).css("left",-v*o+"px"),0==_.position().left&&d.addClass("forbid"),_.position().left==f&&A.addClass("forbid"),a.on("click",".icon-arrow-right",function(a){var e=_.position().left;return t(),e<=f+v&&A.addClass("forbid"),e==f?(A.addClass("js-forbid"),0):0!=c?0:(_.stop().animate({left:e-v+"px"},150,function(){c=!1}),_.find("li").removeClass("active"),_.find("li").eq(o+1).addClass("active"),o++,void(c=!0))}).on("click",".icon-arrow-left",function(a){var e=_.position().left;return t(),e>=-v&&d.addClass("forbid"),0==e?(d.addClass("js-forbid"),0):0!=c?0:(_.stop().animate({left:e+v+"px"},150,function(){c=!1}),_.find("li").removeClass("active"),_.find("li").eq(o-1).addClass("active"),o--,void(c=!0))})},photoSwitch:function(a,e){function r(a){i.removeClass("forbid"),i.removeClass("js-forbid"),n.removeClass("forbid"),n.removeClass("js-forbid")}var t=a.find(".tab-list"),l=t.find("li").length,n=a.find(".icon-arrow-left"),i=a.find(".icon-arrow-right"),o=0,c=252*l-18,s=252*e-c,u=!1;t.css("width",c),0==t.position().left&&n.addClass("forbid"),t.position().left==s&&i.addClass("forbid"),l<=e&&(i.addClass("forbid"),i.addClass("js-forbid"),n.addClass("forbid"),n.addClass("js-forbid")),a.on("click",".icon-arrow-right",function(a){var l=t.position().left;return $(this).hasClass("forbid")?0:(r(),l<=s+252*e&&i.addClass("forbid"),l==s?(i.addClass("js-forbid"),0):0!=u?0:(t.stop().animate({left:l-252*e+"px"},150,function(){u=!1}),t.find("li").removeClass("active"),t.find("li").eq(o+1).addClass("active"),o++,void(u=!0)))}).on("click",".icon-arrow-left",function(a){var l=t.position().left;return $(this).hasClass("forbid")?0:(r(),l>=252*-e&&n.addClass("forbid"),0==l?(n.addClass("js-forbid"),0):0!=u?0:(t.stop().animate({left:l+252*e+"px"},150,function(){u=!1}),t.find("li").removeClass("active"),t.find("li").eq(o-1).addClass("active"),o--,void(u=!0)))})},underlineToCamel:function(a,e){if(void 0===e)r=!0;else if(0==e)var r=!1;for(var t=a.split("_"),l=[],n=0,i=t.length;n<i;n++)l.push(t[n].substring(0,1).toUpperCase()+t[n].substring(1));return 1==r?l.join(""):t[0]+l.join("").substring(t[0].length)},tableEvent:{bindPagination:function(a,e,r){$.dataMonitor;var t=a.find(".table-pagination"),l=e.tableData.pagination.page_total,n=e.tableData.pagination.page_cur,i=e.tableData.pagination.page_cur+1,o=e.tableData.pagination.page_cur-1;t.on("click",".arrow-first",function(a){if(1==n)return 0;e.table_page=1,$.isFunction(r)&&r(e)}).on("click",".arrow-end",function(a){if(n==l)return 0;e.table_page=l,$.isFunction(r)&&r(e)}).on("click",".arrow-left",function(a){if(o<1)return 0;e.table_page=o,$.isFunction(r)&&r(e)}).on("click",".arrow-right",function(a){if(i>l)return 0;e.table_page=i,$.isFunction(r)&&r(e)})},bindPopupEvent:function(a){var e=$.components.tableEvent;a.data("action-bound")||(a.on("click","td[data-action-type=area_data]",function(a){var r=$(this),t=r.data("action-area-level"),l=r.data("action-area-id");e.secondPopup.openAreaData(extend({},opts,{area_level:t,area_id:l}))}).on("click","td[data-action-type=country_file]",function(a){var e=$(this).data("action-area-id");$.poorFile.showCountryFile(e)}).on("click","td[data-action-type=family_file]",function(a){var e=$(this).data("action-family-id");$.poorFile.showFamilyFile(e)}).on("click","td[data-action-type=file_detail]",function(a){var e=$(this).data("action-file-id"),r=$(this).parents("tr").find("td").eq(0).text();console.log(r),$.poorFile.showFileDetail(e,r)}).on("click",".detail-btn",function(a){e.secondPopup.openDetail(opts)}).on("click",".export-btn",function(a){var r=$(this).data("export-url");e.exportTable(r)}),a.data("action-bound",!0))},exportTable:function(a){var e,r=window.Helpers,t=r.ajax,l={open:function(){e||(e=$("#exportWrap")),e.show()},close:function(){e.hide()}},n=1e3,i=$("#exportContent");t({url:a,success:function(a){function e(a){i.html(template("tplExportContent",a))}var o=a.code,c=a.data;if(0==o&&c){var s=null;!function(a){function i(){t({url:URLS.URL_DATA_CHECK_EXPORT_RESULT,data:{export_task_id:a},success:function(a){var t=a.code,o=a.data,c=a.msg,u=o.stat;0==t&&o&&(1==u?(e(o),s=setTimeout(i,n)):(2==u?r.showAlertDialog({content:"生成完成",btnPosText:"下载",btnPosCB:function(a){window.open(o.url),a.hide()}}):r.showAlertDialog({title:"导出错误",content:c}),l.close()))},error:function(){}})}l.open(),e({progress:0}),i()}(c.export_task_id)}},error:function(){}})}}};