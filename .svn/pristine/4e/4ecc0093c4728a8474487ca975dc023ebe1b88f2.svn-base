$.namespace("common.report.highcharts"),Array.prototype.contains=function(t){for(var e=this.length;e--;)if(this[e]===t)return!0;return!1},Highcharts.setOptions({global:{useUTC:!1}});var Highchart={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],ChartDataFormate:{FormateNOGroupData:function(t){common.utils.isArray(t)||(t=[]);for(var e=[],a=[],o=0;o<t.length;o++)e.push(t[o].name||""),a.push([t[o].name,t[o].value||0]);return{category:e,data:a}},FormatGroupData:function(t){common.utils.isArray(t)||(t=[]);for(var e=new Array,a=new Array,o=new Array,i=0;i<t.length;i++)e.contains(t[i].name)||e.push(t[i].name),a.contains(t[i].group)||a.push(t[i].group);for(i=0;i<a.length;i++){var r={},n=a[i],s=!0;a[i].endsWith("|hide")&&(s=!1,n=a[i].replace("|hide",""));for(var c=new Array,l=0;l<t.length;l++)for(var p=0;p<e.length;p++)a[i]==t[l].group&&t[l].name==e[p]&&c.push(t[l].value);r={name:n,data:c,visible:s},o.push(r)}return{category:e,series:o}},FormatInvertedData:function(t){common.utils.isArray(t)||(t=[]);for(var e=new Array,a=new Array,o=new Array,i=0;i<t.length;i++)e.contains(t[i].y)||e.push(t[i].y),a.contains(t[i].group)||a.push(t[i].group);for(i=0;i<a.length;i++){var r={},n=a[i],s=!0;a[i].endsWith("|hide")&&(s=!1,n=a[i].replace("|hide",""));for(var c=new Array,l=0;l<t.length;l++)for(var p=0;p<e.length;p++)a[i]==t[l].group&&t[l].y==e[p]&&c.push([t[l].y,t[l].x]);r={name:n,data:c,visible:s},o.push(r)}return{category:e,series:o}},FormatTimeSeriesData:function(t,e){common.utils.isArray(t)||(t=[]);for(var a=new Array,o=new Array,i=e.irregular,r="area",n=0;n<t.length;n++)a.contains(t[n].group)||a.push(t[n].group);a.length>1&&(r="spline");for(n=0;n<a.length;n++){var s={},c="",l=new Array,p=new Array,u=!0,m=a[n],h=!0;if(a[n].endsWith("|hide")&&(h=!1,m=a[n].replace("|hide","")),i){for(d=0;d<t.length;d++)a[n]==t[d].group&&(l.contains(t[d].name)||(l.push(t[d].name),p.push([common.utils.getDate(t[d].name).getTime(),t[d].value])));s={type:r,name:m,data:p,visible:h}}else{for(var d=0;d<t.length;d++)a[n]==t[d].group&&(u&&(c=common.utils.getDate(t[d].name).getTime(),u=!1),p.push(t[d].value));s={type:r,name:m,pointStart:c,pointInterval:e.pointInterval,data:p,visible:h}}o.push(s)}return{series:o}},FormatBarLineData:function(t,e,a){common.utils.isArray(t)||(t=[]);for(var o=[],i=[],r=[],n=[],s=1;s<t.length;s++){o.contains(t[s].name)||o.push(t[s].name),r.push(t[s].value);var c=0;t[s].value!=t[s-1].value&&(c=0!=t[s-1].value?Math.round(100*(t[s].value/t[s-1].value-1)):100),n.push(c)}return i.push({name:e,color:"#4572A7",type:"column",yAxis:1,data:r,tooltip:{valueStuffix:""}}),i.push({name:a,color:"#89A54E",type:"spline",yAxis:1,data:n,tooltip:{valueStuffix:"%"}}),{series:i}}},ChartOptionTemplates:{Pie:function(container,data,opt){var pie_datas=Highchart.ChartDataFormate.FormateNOGroupData(data),option={chart:{renderTo:container,type:"pie",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,events:{load:function(event){var funcName=opt.doLoad;common.utils.isFunction(funcName)&&eval(funcName+"(event.target)")}}},title:{text:opt.title||""},tooltip:{pointFormat:"{series.name}: <b>{point.percentage"+opt.percentDecimal+"}%</b> ({point.y"+opt.yDecimalf+"}"+opt.yUnit+")"},plotOptions:{pie:{allowPointSelect:!0,cursor:opt.cursor,dataLabels:{enabled:!1},showInLegend:!0},series:{point:{events:{click:function(){var funcName=opt.doClick;common.utils.isFunction(funcName)&&eval(funcName+"(this.name,this.x,this.y)")}}}}},legend:{layout:"vertical",enabled:opt.legend,align:"right",verticalAlign:"top",x:5,y:50,borderWidth:0,labelFormatter:function(){return this.name+"&nbsp"},useHTML:!0},series:[{name:opt.valueName||"",data:pie_datas.data}]};return option},DrillDownPie:function(t,e,a){return{chart:{type:"pie"},title:{text:a||""},subtitle:{text:"请点击饼图项看详细占比"},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.name}: {point.y:.1f}%"}}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'},series:[{name:e||"",colorByPoint:!0,data:(void 0).fir_data}],drilldown:{series:(void 0).series}}},Line:function(container,data,opt){var line_datas=Highchart.ChartDataFormate.FormatGroupData(data),option={chart:{renderTo:container,type:"spline",zoomType:opt.zoomType,events:{load:function(event){var funcName=opt.doLoad;common.utils.isFunction(funcName)&&eval(funcName+"(event.target)")}}},title:{text:opt.title||""},subtitle:{text:""},xAxis:{title:{text:opt.xName||""},labels:{formatter:function(){return this.value+opt.xUnit}},min:opt.xMin,allowDecimals:opt.xAllowDecimal,categories:line_datas.category},yAxis:{title:{text:opt.yName||""},min:opt.yMin,allowDecimals:opt.yAllowDecimal,labels:{formatter:function(){return this.value+opt.yUnit}},plotLines:[{value:0,width:1,color:"#808080"}]},plotOptions:{spline:{marker:{enable:!1}},series:{cursor:opt.cursor,point:{events:{click:function(){var funcName=opt.doClick;common.utils.isFunction(funcName)&&eval(funcName+"(this.series.name,this.category,this.y)")}}}}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span> : <b>{point.y'+opt.yDecimalf+"} "+opt.yUnit+"</b><br/>",shared:!0,useHTML:!0,crosshairs:!0},legend:{enabled:opt.legend,layout:"horizontal",align:"center",verticalAlign:"bottom"},series:line_datas.series};return option},TimeSeriesLine:function(container,data,opt){var line_datas=Highchart.ChartDataFormate.FormatTimeSeriesData(data,opt),option={chart:{renderTo:container,zoomType:"x",events:{load:function(event){var funcName=opt.doLoad;common.utils.isFunction(funcName)&&eval(funcName+"(event.target)")}}},title:{text:opt.title||""},subtitle:{text:""},xAxis:{title:{text:opt.xName||""},type:"datetime",allowDecimals:opt.xAllowDecimal,tickInterval:opt.minRange},yAxis:{title:{text:opt.yName||""},min:opt.yMin,allowDecimals:opt.yAllowDecimal,labels:{formatter:function(){return this.value+opt.yUnit}},plotLines:[{value:0,width:1,color:"#808080"}]},legend:{enabled:opt.legend,layout:"horizontal",align:"center",verticalAlign:"bottom"},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span> : <b>{point.y'+opt.yDecimalf+"} "+opt.yUnit+"</b><br/>",shared:!0,useHTML:!0,crosshairs:!0},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null},spline:{marker:{radius:2},lineWidth:2,states:{hover:{lineWidth:2}},threshold:null},series:{cursor:opt.cursor,point:{events:{click:function(){var funcName=opt.doClick;common.utils.isFunction(funcName)&&eval(funcName+"(this.series.name,this.x,this.y)")}}}}},series:line_datas.series};return option},InvertedLine:function(container,data,opt){var line_datas=Highchart.ChartDataFormate.FormatInvertedData(data),option={chart:{renderTo:container,type:"spline",inverted:!0,zoomType:opt.zoomType,events:{load:function(event){var funcName=opt.doLoad;common.utils.isFunction(funcName)&&eval(funcName+"(event.target)")}}},title:{text:opt.title||""},subtitle:{text:""},xAxis:{reversed:!1,title:{text:opt.xName||""},min:opt.xMin,allowDecimals:opt.xAllowDecimal,labels:{formatter:function(){return this.value+opt.xUnit}},showLastLabel:!0},yAxis:{title:{text:opt.yName||""},min:opt.yMin,allowDecimals:opt.yAllowDecimal,labels:{formatter:function(){return this.value+opt.yUnit}},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{headerFormat:"<b>{series.name}</b><br/>",pointFormat:"{point.x"+opt.xDecimalf+"} "+opt.xUnit+" :  {point.y"+opt.yDecimalf+"}"+opt.yUnit},plotOptions:{spline:{marker:{enable:!1}},series:{cursor:opt.cursor,point:{events:{click:function(){var funcName=opt.doClick;common.utils.isFunction(funcName)&&eval(funcName+"(this.series.name,this.category,this.y)")}}}}},legend:{enabled:opt.legend},series:line_datas.series};return option},Bars:function(container,data,opt){var bars_datas=Highchart.ChartDataFormate.FormatGroupData(data),option={chart:{renderTo:container,type:opt.horiz,zoomType:opt.zoomType,events:{load:function(event){var funcName=opt.doLoad;common.utils.isFunction(funcName)&&eval(funcName+"(event.target)")}}},title:{text:opt.title||""},subtitle:{text:""},credits:{enabled:!1},xAxis:{title:{text:opt.xName},min:opt.xMin,allowDecimals:opt.xAllowDecimal,labels:{formatter:function(){return this.value+opt.xUnit}},categories:bars_datas.category},yAxis:{title:{text:opt.yName},min:opt.yMin,allowDecimals:opt.yAllowDecimal,labels:{formatter:function(){return this.value+opt.yUnit}}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span> : <b>{point.y'+opt.yDecimalf+"}</b><br/>",shared:!0,useHTML:!0,crosshairs:!0},plotOptions:{series:{cursor:opt.cursor,pointPadding:.2,borderWidth:0,point:{events:{click:function(){var funcName=opt.doClick;common.utils.isFunction(funcName)&&eval(funcName+"(this.series.name,this.category,this.y)")}}}}},legend:{enabled:opt.legend,layout:"horizontal",align:"center",verticalAlign:"bottom"},series:bars_datas.series};return option},StackBars:function(container,data,opt){var bars_datas=Highchart.ChartDataFormate.FormatGroupData(data),option={chart:{renderTo:container,type:opt.horiz,zoomType:opt.zoomType,events:{load:function(event){var funcName=opt.doLoad;common.utils.isFunction(funcName)&&eval(funcName+"(event.target)")}}},title:{text:opt.title||""},subtitle:{text:""},credits:{enabled:!1},xAxis:{title:{text:opt.xName||""},min:opt.xMin,allowDecimals:opt.xAllowDecimal,labels:{formatter:function(){return this.value+opt.xUnit}},categories:bars_datas.category},yAxis:{title:{text:opt.yName||""},min:opt.yMin,allowDecimals:opt.yAllowDecimal,labels:{formatter:function(){return this.value+opt.yUnit}}},legend:{enabled:opt.legend,layout:"horizontal",align:"center",verticalAlign:"bottom"},series:bars_datas.series},stack_option={};return stack_option=opt.isPercent?{tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span> : <b>{point.y'+opt.yDecimalf+"}</b> ({point.percentage"+opt.percentDecimal+"}%)<br/>",shared:!0,crosshairs:!0},plotOptions:{series:{cursor:opt.cursor,stacking:"percent",point:{events:{click:function(){var funcName=opt.doClick;common.utils.isFunction(funcName)&&eval(funcName+"(this.series.name,this.category,this.y)")}}}}}}:{tooltip:{formatter:function(){return this.x+"<br/><span>"+this.series.name+"</span> : <b>"+Number(this.y).toFixed(opt.yDecimal)+'</b><br/><span style="color:#F58221">Total</span> : <b>'+Number(this.point.stackTotal).toFixed(opt.yDecimal)+"</b>"}},plotOptions:{series:{stacking:"normal",cursor:opt.cursor,point:{events:{click:function(){var funcName=opt.doClick;common.utils.isFunction(funcName)&&eval(funcName+"(this.series.name,this.category,this.y)")}}}}}},$.extend({},option,stack_option)},Gauge:function(container,data,opt){common.utils.isArray(data)||(data=[data]);var option={chart:{renderTo:container,type:"solidgauge",events:{load:function(event){var funcName=opt.doLoad;common.utils.isFunction(funcName)&&eval(funcName+"(event.target)")}}},title:null,pane:{center:["50%","85%"],size:"140%",startAngle:-90,endAngle:90,background:{backgroundColor:Highcharts.theme&&Highcharts.theme.background2||"#EEE",innerRadius:"60%",outerRadius:"100%",shape:"arc"}},tooltip:{enabled:!1},yAxis:{min:opt.gaugeMin,max:opt.gaugeMax,title:{text:null},allowDecimals:opt.yAllowDecimal,stops:opt.stops,lineWidth:0,minorTickInterval:null,tickPixelInterval:400,tickWidth:0,title:{y:-70},labels:{y:16}},plotOptions:{solidgauge:{dataLabels:{y:5,borderWidth:0,useHTML:!0}}},credits:{enabled:!1},series:[{name:opt.valueName||"",data:data,dataLabels:{format:'<div style="text-align:center"><span style="font-size:25px;color:'+(Highcharts.theme&&Highcharts.theme.contrastTextColor||"black")+'">{y}</span><br/><span style="font-size:12px;color:silver">'+opt.yUnit+"</span></div>"},tooltip:{valueSuffix:opt.yUnit||""}}]};return option},Pyramid:function(t,e,a){var o=Highchart.ChartDataFormate.FormateNOGroupData(t);return{chart:{type:"pyramid",marginRight:100},title:{text:a||"",x:-50},plotOptions:{series:{dataLabels:{enabled:!0,format:"<b>{point.name}</b> ({point.y"+opt.yDecimalf+"})",color:"black",softConnector:!0}}},legend:{enabled:!1},series:[{name:e||"",data:o.data}]}}},create:{init:function(container,data,option,type){var option_=Highchart.utils.defaultOption(option);option_.stats&&(data=Highchart.utils.dataStatistics(data,type)),"TimeSeriesLine"===type&&(option_.minRange=Highchart.utils.getTimeSeriesMinRange(data)),option_.container=container,option_.optionType=type;var opt=eval("Highchart.ChartOptionTemplates."+type+"(container,data,option_)"),chart=new Highcharts.Chart(opt),obj={chart:chart,chartType:type,option:option_,data:data},id=common.report.highcharts.object.add(obj);return id},Pie:function(t,e,a){return this.init(t,e,a,"Pie")},Line:function(t,e,a){return this.init(t,e,a,"Line")},InvertedLine:function(t,e,a){return this.init(t,e,a,"InvertedLine")},Bars:function(t,e,a){return this.init(t,e,a,"Bars")},StackBars:function(t,e,a){return this.init(t,e,a,"StackBars")},TimeSeriesLine:function(t,e,a){return this.init(t,e,a,"TimeSeriesLine")},Gauge:function(t,e,a){return this.init(t,e,a,"Gauge")}},reload:function(chartid,data,newOption,type){var obj=common.report.highcharts.object.get(chartid);if(null!=obj){var chart=obj.chart;chart.showLoading();var opt=obj.option,container=opt.container;common.utils.isDefined(type)||(type=opt.optionType),common.utils.isDefined(data)||(data=obj.data),common.utils.isDefined(newOption)&&(opt=Highchart.utils.defaultOption(newOption),opt.container=container,opt.optionType=type),opt.stats&&(data=Highchart.utils.dataStatistics(data,type)),"TimeSeriesLine"===type&&(opt.minRange=Highchart.utils.getTimeSeriesMinRange(data));var option=eval("Highchart.ChartOptionTemplates."+type+"(container,data,opt)");return chart.destroy(),chart.hideLoading(),chart=new Highcharts.Chart(option),obj.chart=chart,obj.option=opt,obj.data=data,common.report.highcharts.object.reset(chartid,obj),!0}return!1},remove:function(t){return!!common.report.highcharts.object.containsKey(t)&&(common.report.highcharts.object.remove(t),!0)},ajax:{init:function(t,e,a,o,i){var r=Highchart.create.init(t,[],o,i),n=common.report.highcharts.object.get(r),s=n.chart;return s.showLoading(),a=common.utils.strToJson(a),$.ajax({type:"POST",url:e,data:a,cache:!0,dataType:"json",success:function(t){Highchart.reload(r,t),s.hideLoading(),(n=common.report.highcharts.object.get(r)).url=e,n.parameters=a,common.report.highcharts.object.reset(r,n)}}),r},Pie:function(t,e,a,o){return this.init(t,e,a,o,"Pie")},Line:function(t,e,a,o){return this.init(t,e,a,o,"Line")},InvertedLine:function(t,e,a,o){return this.init(t,e,a,o,"InvertedLine")},Bars:function(t,e,a,o){return this.init(t,e,a,o,"Bars")},StackBars:function(t,e,a,o){return this.init(t,e,a,o,"StackBars")},TimeSeriesLine:function(t,e,a,o){return this.init(t,e,a,o,"TimeSeriesLine")},Gauge:function(t,e,a,o){return this.init(t,e,a,o,"Gauge")},reload:function(t,e,a,o){var i=common.report.highcharts.object.get(t);if(null==i)return!1;if(common.utils.isEmpty(e)){var r=i.data;return Highchart.reload(t,r,o)}var n=i.chart;n.showLoading(),common.utils.isEmpty(e)&&(e=i.url),common.utils.isEmpty(a)&&(a=i.parameters),a=common.utils.strToJson(a),$.ajax({type:"POST",url:e,data:a,cache:!0,dataType:"json",success:function(r){return Highchart.reload(t,r,o),n.hideLoading(),i=common.report.highcharts.object.get(t),i.url=e,i.parameters=a,common.report.highcharts.object.reset(t,i),!0}})}},mybatis:{Pie:function(t,e,a,o,i,r){var n=ctx+"/a/report/highchart/pieData/load",s={};return s.queryName=e,s.param=common.utils.strToJson(a),s.mapper=common.utils.strToJson(o),s.rowsValue=r,Highchart.ajax.init(t,n,s,i,"Pie")},Line:function(t,e,a,o,i,r,n){var s=ctx+"/a/report/highchart/groupData/load",c={};return c.queryName=e,c.param=common.utils.strToJson(a),c.mapper=common.utils.strToJson(o),c.hideGroup=r,c.rowsGroup=n,Highchart.ajax.init(t,s,c,i,"Line")},InvertedLine:function(t,e,a,o,i,r){var n=ctx+"/a/report/highchart/invertedLine/load",s={};return s.queryName=e,s.param=common.utils.strToJson(a),s.mapper=common.utils.strToJson(o),s.hideGroup=r,Highchart.ajax.init(t,n,s,i,"InvertedLine")},Bars:function(t,e,a,o,i,r,n){var s=ctx+"/a/report/highchart/groupData/load",c={};return c.queryName=e,c.param=common.utils.strToJson(a),c.mapper=common.utils.strToJson(o),c.hideGroup=r,c.rowsGroup=n,Highchart.ajax.init(t,s,c,i,"Bars")},StackBars:function(t,e,a,o,i,r,n){var s=ctx+"/a/report/highchart/groupData/load",c={};return c.queryName=e,c.param=common.utils.strToJson(a),c.mapper=common.utils.strToJson(o),c.hideGroup=r,c.rowsGroup=n,Highchart.ajax.init(t,s,c,i,"StackBars")},TimeSeriesLine:function(t,e,a,o,i,r,n){var s=ctx+"/a/report/highchart/groupData/load",c={};return c.queryName=e,c.param=common.utils.strToJson(a),c.mapper=common.utils.strToJson(o),c.hideGroup=r,c.rowsGroup=n,Highchart.ajax.init(t,s,c,i,"TimeSeriesLine")},Gauge:function(t,e,a,o,i,r){var n=ctx+"/a/report/highchart/gauge/load",s={};return s.queryName=e,s.param=common.utils.strToJson(a),s.mapper=common.utils.strToJson(o),s.decimal=r,Highchart.ajax.init(t,n,s,i,"Gauge")},reload:function(t,e,a,o,i){var r=common.report.highcharts.object.get(t);if(null!=r){var n=r.url,s=r.parameters;return common.utils.isEmpty(e)||(s.queryName=e),common.utils.isEmpty(a)||(s.param=common.utils.strToJson(a)),common.utils.isEmpty(o)||(s.mapper=common.utils.strToJson(o)),Highchart.ajax.reload(t,n,s,i)}return!1}},utils:{defaultOption:function(t){var e={title:"",horiz:!1,valueName:"数值",xName:"",xMin:0,xUnit:"",xDecimal:0,xAllowDecimal:!0,yName:"",yMin:0,yUnit:"",yDecimal:0,yAllowDecimal:!0,stats:!1,isPercent:!1,percentDecimal:2,legend:!0,zoomType:"",minRange:12096e5,pointInterval:864e5,irregular:!0,gaugeMax:100,gaugeMin:0,stops:[.4,.6,.8],greatValue:"up",doClick:"",doLoad:""},a=common.utils.setDefaultOption(t,e);return a.xDecimalf=this.convertDecimal(a.xDecimal),a.yDecimalf=this.convertDecimal(a.yDecimal),a.percentDecimal=this.convertDecimal(a.percentDecimal),a.horiz?a.horiz="bar":a.horiz="column",a.stops=this.convertStops(a.stops,a.greatValue),a.cursor="",common.utils.isFunction(a.doClick)&&(a.cursor="pointer"),a},convertDecimal:function(t){var e="";switch(t){case 1:e=":.1f";break;case 2:e=":.2f";break;case 3:e=":.3f";break;case 4:e=":.4f";break;default:e=":.0f"}return e},convertStops:function(t,e){var a=new Array,o=new Array;"down"==e?(o[0]="#55BF3B",o[1]="#DDDF0D",o[2]="#DF5353"):(o[0]="#DF5353",o[1]="#DDDF0D",o[2]="#55BF3B");for(var i=0;i<o.length;i++)a.push([t[i],o[i]]);return a},initSeries:function(t,e,a,o){for(;t.series.length>0;)t.series[0].remove(!1);switch(o){case"Pie":var i=Highchart.ChartDataFormate.FormateNOGroupData(e),r={name:a.valueName||"",data:i.data};t.addSeries(r,!1);break;case"Line":s=Highchart.ChartDataFormate.FormatGroupData(e);t.xAxis[0].setCategories(s.category,!1),$.each(s.series,function(e,a){t.addSeries(a,!1)});break;case"InvertedLine":s=Highchart.ChartDataFormate.FormatInvertedData(e);$.each(s.series,function(e,a){t.addSeries(a,!1)});break;case"Bars":case"StackBars":var n=Highchart.ChartDataFormate.FormatGroupData(e);t.xAxis[0].setCategories(n.category,!1),$.each(n.series,function(e,a){t.addSeries(a,!1)});break;case"TimeSeriesLine":var s=Highchart.ChartDataFormate.FormatTimeSeriesData(e,a.pointInterval);$.each(s.series,function(e,a){t.addSeries(a,!1)});break;case"Gauge":common.utils.isArray(e)||(e=[e]),t.options.series[0].data=e}return t.redraw(),t},getTimeSeriesMinRange:function(t){var e=864e5;if(!common.utils.isArray(t)||0===t.length)return e;for(var a="",o="",i="",r=0;r<t.length;r++)0===r?(a=t[0].group,o=t[0].name,i=t[0].name,0):a===t[r].group&&(t[r].name>i&&(i=t[r].name),0);var n="day";o.length>10&&(n="hour");var s=common.utils.getDateDiff(o,i,n);return e=this.countMinRange(s,9,n)},countMinRange:function(t,e,a){var o=0;if("hour"===a)if(t<=10)o=36e5;else if(t>10&&t<=24*e){i=t/e;t%e!=0&&i++,o=36e5*i}else if(t>24*e&&t<=24*e*7){i=t/(24*e);t%(24*e)!=0&&i++,o=24*i*36e5}else if(t>24*e*7&&t<=24*e*30){i=t/(24*e*7);t%(24*e*7)!=0&&i++,o=24*i*7*36e5}else if(t>24*e*30&&t<=24*e*365){i=t/(24*e*30);t%(24*e*30)!=0&&i++,o=24*i*30*36e5}else{i=t/(24*e*365);t%(24*e*365)!=0&&i++,o=24*i*365*36e5}else if(t<=10)o=864e5;else if(t>10&&t<=7*e){i=t/e;t%e!=0&&i++,o=24*i*36e5}else if(t>7*e&&t<=30*e){i=t/(7*e);t%(7*e)!=0&&i++,o=7*i*24*36e5}else if(t>30*e&&t<=365*e){i=t/(30*e);t%(30*e)!=0&&i++,o=30*i*24*36e5}else{var i=t/(365*e);t%(365*e)!=0&&i++,o=365*i*24*36e5}return o},dataStatistics:function(t,e){var a=!0;"Pie"===e&&(a=!1);for(var o=new Array,i=0;i<t.length;i++){var r=!1,n=t[i].name,s=t[i].value,c=t[i].group;if(a){for(l=0;l<o.length;l++)if(o[l].group===c&&o[l].name===n){o[l].value=o[l].value+s,r=!0;break}}else for(var l=0;l<o.length;l++)if(o[l].name===n){o[l].value=o[l].value+s,r=!0;break}if(!r){var p={};p.name=n,p.value=s,a&&(p.group=c),o.push(p)}}return o}}};