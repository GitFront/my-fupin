$.namespace("aspire.birp"),aspire.birp.main={init:function(){aspire.birp.main.left.init(),aspire.birp.main.tabs.init()},page:{loadPage:function(i,a,e){1==a?window.location.href=baseCtx+e+"?parentId="+i:0==a&&(window.location.href=baseCtx+"a?parentId="+i)},favorite:function(i){window.external.AddFavorite(document.URL,i)}},left:{init:function(){$(".easyui-accordion li a").click(function(){var i=$(this).text(),a=$(this).attr("url");aspire.birp.main.tabs.addTab("id_"+i,i,a),$(".easyui-accordion li div").removeClass("selected"),$(this).parent().addClass("selected")}).hover(function(){$(this).parent().addClass("hover")},function(){$(this).parent().removeClass("hover")})},loadMenu:function(i){var a={};a.parentId=i,a.level=2,$.ajax({type:"post",data:a,dataType:"json",url:baseCtx+"/a/menus",success:function(i){if(null!=i){var a='<div id="treeContent" class="easyui-accordion" fit="true" border="false">';$.each(i,function(i,e){1==e.isShow&&(a+='<div title="'+e.name+'" style="padding:0px;overflow:auto;"><div>',a+="<ul>",$.each(e.childList,function(i,e){1==e.isShow&&(a+='<li><div><a id="'+e.id+'"  href="#" url='+e.url+' ><span class="icon '+e.icon+'" ></span>'+e.name+"</a></div></li> ")}),a+="</ul></div></div>")}),a+="</div>",$("#treeContentWest").html(a),$("#treeContent").accordion(),aspire.birp.main.left.init()}},error:function(i){null!=i.responseText&&""!=i.responseText&&$.messager.alert("错误",i.responseText,"error")}})}},tabs:{init:function(){aspire.birp.main.$tabs=$("#mainTabs"),aspire.birp.main.$tabs.length||(aspire.birp.main.$tabs=parent.$("#mainTabs"))},addTab:function(i,a,e){var t="未实现";e&&(t="<iframe src='"+e+"' frameborder='0' style='width: 100%; height: 100%'></iframe>"),aspire.birp.main.$tabs.tabs("exists",a)?(aspire.birp.main.$tabs.tabs("select",a),aspire.birp.main.$tabs.tabs("getSelected").panel("options").content=t,aspire.birp.main.$tabs.tabs("getSelected").panel("refresh")):aspire.birp.main.$tabs.tabs("add",{id:i,title:a,fit:!0,closable:!0,content:t})}},closeTab:function(i){aspire.birp.main.$tabs.tabs("close",i)}};