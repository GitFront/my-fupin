function TwoWindowsSelecter(e,t,a,i,o){this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID=common.utils.guid(),this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID=common.utils.guid();var l=common.utils.guid(),n=common.utils.guid(),r=common.utils.guid(),d=common.utils.guid(),c=common.utils.guid(),s=common.utils.guid(),_=common.utils.guid(),T=this.configDefault(t,"selecter"),g=this.configDefault(a,"noSelecter"),A=this.configDefault(i,"hasSelecter");this.TWO_SELECTER_CONFIG=T,this.TWO_SELECTER_CALLBACK=this.configDefault(o,"callback"),common.utils.isString(T.width)&&T.width.indexOf("%")&&(T.width=$(document.body).width()*parseFloat(T.width.replace("%","")/100)),T.fit&&(T.width=$(document.body).width());var h=T.width<200?200:T.width,E=(h-35)/2,u=T.height<150?150:T.height,R=(u-154)/2,S="";T.fitColumns&&(S=' componentType="datagrid"  autoResize="true"  resizeWidth="true" fitColumns="true"'),$("#"+e).css("width",h+"px"),$("#"+e).css("height",u+"px"),$("#"+e).layout({title:T.title,fit:!1,border:!0}),$("#"+e).layout("add",{id:l,region:"west",width:E,title:g.title,collapsible:!1,content:'<table id="'+this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID+'" '+S+"></table>"}),$("#"+e).layout("add",{id:n,region:"east",width:E,title:A.title,collapsible:!1,content:'<table id="'+this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID+'" '+S+"></table>"}),$("#"+e).layout("add",{id:r,region:"center",collapsible:!1,content:"<a id='"+d+"' href='#'></a><br><a id='"+c+"' href='#'></a><br><a id='"+s+"' href='#'></a><br><a id='"+_+"' href='#'></a>"}),$("#"+r).css("padding-top",R+"px"),$("#"+r).css("padding-left","5.4px"),delete g.title,delete A.title;var m=$("#"+this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID).datagrid(g),D=$("#"+this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID).datagrid(A);if(common.utils.isJson(T.pagination)){if(m.datagrid("options").pagination){p=$("#"+this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID).datagrid("getPager");$(p).pagination(T.pagination)}if(D.datagrid("options").pagination){var p=$("#"+this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID).datagrid("getPager");$(p).pagination(T.pagination)}}$("#"+d).linkbutton({iconCls:"icon-btn-fast-forward",plain:!0}),$("#"+d).bind("click",{selecter:this},this.moveInAll),$("#"+d).css("margin-bottom","15px"),$("#"+c).linkbutton({iconCls:"icon-btn-forward",plain:!0}),$("#"+c).bind("click",{noSelecter:this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID,hasSelecter:this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID,callback:this.TWO_SELECTER_CALLBACK},this.moveIn),$("#"+c).css("margin-bottom","15px"),$("#"+s).linkbutton({iconCls:"icon-btn-backward",plain:!0}),$("#"+s).bind("click",{noSelecter:this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID,hasSelecter:this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID,callback:this.TWO_SELECTER_CALLBACK},this.moveOut),$("#"+s).css("margin-bottom","15px"),$("#"+_).linkbutton({iconCls:"icon-btn-fast-backward",plain:!0}),$("#"+_).bind("click",{selecter:this},this.moveOutAll)}$.namespace("common.plugins.easyui"),TwoWindowsSelecter.prototype.customPaging=function(e){var t=$("#"+this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID);if(common.utils.isJson(e)&&t.datagrid("options").pagination){i=t.datagrid("getPager");$(i).pagination(e)}var a=$("#"+this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID);if(common.utils.isJson(e)&&a.datagrid("options").pagination){var i=a.datagrid("getPager");$(i).pagination(e)}},TwoWindowsSelecter.prototype.reload=function(e,t){var a=$("#"+this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID),i=$("#"+this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID);common.utils.isJson(e)||(e={}),common.utils.isJson(t)||(t={}),a.datagrid("unselectAll"),a.datagrid("reload",e),i.datagrid("unselectAll"),i.datagrid("reload",t)},TwoWindowsSelecter.prototype.loadLeft=function(e,t){var a=$("#"+this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID);common.utils.isJson(t)||(t={}),a.datagrid("unselectAll"),a.datagrid({url:e,queryParams:t});var i=this.TWO_SELECTER_CONFIG;if(common.utils.isJson(i.pagination)&&a.datagrid("options").pagination){var o=a.datagrid("getPager");$(o).pagination(i.pagination)}},TwoWindowsSelecter.prototype.reloadLeft=function(e){var t=$("#"+this.TWO_SELECTER_NO_ATTR_DATA_GRID_ID);common.utils.isJson(e)||(e={}),t.datagrid("unselectAll"),t.datagrid("reload",e)},TwoWindowsSelecter.prototype.loadRight=function(e,t){var a=$("#"+this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID);common.utils.isJson(t)||(t={}),a.datagrid("unselectAll"),a.datagrid({url:e,queryParams:t});var i=this.TWO_SELECTER_CONFIG;if(common.utils.isJson(i.pagination)&&a.datagrid("options").pagination){var o=a.datagrid("getPager");$(o).pagination(i.pagination)}},TwoWindowsSelecter.prototype.reloadRight=function(e){var t=$("#"+this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID);common.utils.isJson(e)||(e={}),t.datagrid("unselectAll"),t.datagrid("reload",e)},TwoWindowsSelecter.prototype.cleanRight=function(){var e=$("#"+this.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID);e.datagrid("unselectAll"),e.datagrid("loadData",{total:0,rows:[]})},TwoWindowsSelecter.prototype.moveInAll=function(e){var t=e.data.selecter,a=$("#"+t.TWO_SELECTER_NO_ATTR_DATA_GRID_ID),e=($("#"+t.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID),{data:{noSelecter:t.TWO_SELECTER_NO_ATTR_DATA_GRID_ID,hasSelecter:t.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID,callback:t.TWO_SELECTER_CALLBACK}});a.datagrid("selectAll"),t.moveIn(e),a.datagrid("unselectAll")},TwoWindowsSelecter.prototype.moveIn=function(e){var callback=e.data.callback.moveIn;if(""!==callback&&common.utils.isFunction(callback))eval(callback+"(e.data.noSelecter,e.data.hasSelecter)");else{var noSelecter=$("#"+e.data.noSelecter),hasSelecter=$("#"+e.data.hasSelecter),checkeds=noSelecter.datagrid("getChecked");if(0==checkeds.length)return void layer.msg("请选择要移入的属性",{shade:.2});var orows=hasSelecter.datagrid("getRows"),data=$.merge(orows,checkeds);hasSelecter.datagrid("loadData",{total:data.length,rows:data});for(var i=checkeds.length-1;i>=0;i--){var index=noSelecter.datagrid("getRowIndex",checkeds[i]);noSelecter.datagrid("deleteRow",index)}}},TwoWindowsSelecter.prototype.moveOut=function(e){var callback=e.data.callback.moveOut;if(""!==callback&&common.utils.isFunction(callback))eval(callback+"(e.data.noSelecter,e.data.hasSelecter)");else{var noSelecter=$("#"+e.data.noSelecter),hasSelecter=$("#"+e.data.hasSelecter),checkeds=hasSelecter.datagrid("getChecked");if(0==checkeds.length)return void layer.msg("请选择要移出的属性",{shade:.2});var orows=noSelecter.datagrid("getRows"),data=$.merge(orows,checkeds);noSelecter.datagrid("loadData",{total:data.length,rows:data});for(var i=checkeds.length-1;i>=0;i--){var index=hasSelecter.datagrid("getRowIndex",checkeds[i]);hasSelecter.datagrid("deleteRow",index)}}},TwoWindowsSelecter.prototype.moveOutAll=function(e){var t=e.data.selecter,a=($("#"+t.TWO_SELECTER_NO_ATTR_DATA_GRID_ID),$("#"+t.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID)),e={data:{noSelecter:t.TWO_SELECTER_NO_ATTR_DATA_GRID_ID,hasSelecter:t.TWO_SELECTER_HAS_ATTR_DATA_GRID_ID,callback:t.TWO_SELECTER_CALLBACK}};a.datagrid("selectAll"),t.moveOut(e),a.datagrid("unselectAll")},TwoWindowsSelecter.prototype.configDefault=function(e,t){var a=!1,i={};if(("noSelecter"===t||"hasSelecter"===t)&&common.utils.isJson(e)&&e.hasOwnProperty("columns")){var o=e.columns;if(common.utils.isArray(o)){for(var l=!1,n=0;n<o.length;n++)"checkbox"===o[n].field&&(l=!0),o[n].hasOwnProperty("halign")||(o[n].halign="center");if(!l){var r=[{field:"checkbox",checkbox:!0}];$.merge(r,o),e.columns=[r]}}}switch(t){case"selecter":i={title:"选择器",width:860,height:300,fitColumns:!1,fit:!1,pagination:""};break;case"noSelecter":a=!0,i={title:"未选择列",striped:!0,rownumbers:!0,loadMsg:"正在加载数据...",data:[],url:"",queryParams:{},idField:"id",columns:[[{field:"checkbox",checkbox:!0},{field:"id"}]]};break;case"hasSelecter":a=!0,i={title:"已选择列",striped:!0,rownumbers:!0,loadMsg:"正在加载数据...",data:[],url:"",queryParams:{},idField:"id",columns:[[{field:"checkbox",checkbox:!0},{field:"id"}]]};break;case"callback":i={moveOut:"",moveIn:""}}return common.utils.setDefaultOption(e,i,a)};